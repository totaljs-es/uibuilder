<!DOCTYPE html>
<html>
<head>
	<title>UI Builder Render</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=10" />
	<meta name="robots" content="all,follow" />
	<link href="https://cdn.componentator.com/spa.min@20.css" rel="stylesheet" type="text/css" />
	<script src="https://cdn.componentator.com/spa.min@20.js"></script>
	<style>
		.ui-viewbox{overflow:hidden;-ms-overflow-style:none;box-sizing:content-box}.ui-viewbox-disabled{z-index:5;position:absolute;background-color:rgba(255,255,255,0.8)}.ui-viewbox-hidden{visibility:hidden}.ui-viewbox-centered-table{display:table;width:100%;height:100%}.ui-viewbox-centered-cell{display:table-cell;width:100%;height:100%;vertical-align:middle;text-align:center}
		.ui-colorpicker-container{position:absolute;z-index:109}.ui-colorpicker{border:1px solid #E0E0E0;font-size:14px;color:#000;width:254px;background-color:#FFF;box-shadow:0 5px 10px rgba(0,0,0,0.08);border-radius:var(--radius);overflow:hidden;margin:0;padding:7px 0 3px}.ui-colorpicker-body{text-align:center}.ui-colorpicker-body div:nth-child(1){margin-bottom:0}.ui-colorpicker-body div:nth-child(2){margin-bottom:8px;padding-bottom:2px;border-bottom:1px solid #E0E0E0}.ui-colorpicker-cell{cursor:pointer;width:20px;height:16px;display:inline-block;vertical-align:top}.ui-colorpicker-cell span{display:block;height:16px;margin:0 2px;border-radius:2px;border:1px solid rgba(0,0,0,0.1);font-size:9px;line-height:15px;color:red}.ui-colorpicker-body span:hover{border-color:rgba(0,0,0,0.3)}.ui-dark .ui-colorpicker{background-color:#252525;border-color:#404040}.ui-dark .ui-colorpicker-cell span{border-color:rgba(255,255,255,0.1)}.ui-dark .ui-colorpicker-cell span:hover{border-color:rgba(255,255,255,0.5)}.ui-dark .ui-colorpicker-body div:nth-child(2){border-bottom-color:#404040}
		.ui-datepicker-container{position:absolute;left:0;right:0;bottom:0;top:0;z-index:99}.ui-datepicker{font-size:12px;width:247px;height:300px;position:absolute;background-color:#FFF;border:1px solid #E0E0E0;left:100px;top:100px;border-radius:var(--radius);z-index:100;color:gray;box-shadow:0 5px 25px rgba(0,0,0,0.1);opacity:0;transform:scale(0.6);transition:all 0.2s}.ui-datepicker-visible{transform:scale(1);opacity:1}.ui-datepicker-disabled{color:silver !important;cursor:pointer}.ui-datepicker-body,.ui-datepicker-months,.ui-datepicker-years{height:235px}.ui-datepicker-footer{height:28px;border-top:1px solid #E0E0E0;font-size:11px;padding:0 8px;line-height:26px;background-color:#F8F8F8;display:flex;justify-content:space-between}.ui-datepicker-footer > span:hover{text-decoration:underline}.ui-datepicker-now,.ui-datepicker-clear{color:#000;cursor:pointer}.ui-datepicker-day-today div{background-color:#F0F0F0;font-weight:bold}.ui-datepicker-selected div{background-color:var(--color);font-weight:bold;color:#FFF}.ui-datepicker-date i{position:absolute;left:15px;top:26px;font-size:6px;color:red}.ui-datepicker-months > div{width:61px;height:78px;line-height:76px;position:relative;display:inline-block;text-align:center;cursor:pointer;text-transform:uppercase;font-weight:bold}.ui-datepicker-months > div > div{width:50px;height:50px;line-height:46px;position:relative;display:inline-block;border-radius:100%;border:2px solid transparent}.ui-datepicker-months > div:hover > div{border-color:#E0E0E0;color:#000}.ui-datepicker-years{padding:5px 0 0}.ui-datepicker-years > div{width:49px;height:46px;line-height:44px;position:relative;display:inline-block;text-align:center;cursor:pointer}.ui-datepicker-years > div > div{width:40px;height:40px;line-height:36px;position:relative;display:inline-block;border-radius:100%;border:2px solid transparent}.ui-datepicker-years > div:hover > div{border-color:#E0E0E0;color:#000}.ui-datepicker-header{height:35px;border-bottom:1px solid #E0E0E0;text-align:center;font-size:14px}.ui-datepicker-prev{float:left;line-height:34px;width:34px;color:#000;cursor:pointer}.ui-datepicker-next{float:right;line-height:34px;width:34px;color:#000;cursor:pointer}.ui-datepicker-prev:hover,.ui-datepicker-next:hover{background-color:#F0F0F0}.ui-datepicker-info{margin:0 34px;line-height:34px}.ui-datepicker-info > span{cursor:pointer}.ui-datepicker-info > span:hover{color:#000}.ui-datepicker-info .ui-datepicker-year{margin-left:5px}.ui-datepicker-week > div,.ui-datepicker-days > div{width:35px;height:35px;line-height:35px;position:relative;display:inline-block;vertical-align:middle;text-align:center}.ui-datepicker-week > div{height:25px;line-height:25px;font-weight:bold;color:#000;border-bottom:1px solid #E0E0E0}.ui-datepicker-days > div{font-size:11px;cursor:pointer}.ui-datepicker-date:hover > div{border-color:#E0E0E0;color:#000}.ui-datepicker-selected:hover > div{border-color:var(--color);color:#FFF}.ui-datepicker-days > div > div{width:28px;height:28px;line-height:24px;border-radius:100%;margin:0 auto;position:relative;display:inline-block;border:2px solid transparent}.ui-dark .ui-datepicker{background-color:#282828;border-color:#404040;color:gray}.ui-dark .ui-datepicker-disabled{color:#505050 !important}.ui-dark .ui-datepicker-footer{border-top-color:#404040;background-color:#303030}.ui-dark .ui-datepicker-now,.ui-dark .ui-datepicker-clear{color:#FFF}.ui-dark .ui-datepicker-day-today div{background-color:#353535}.ui-dark .ui-datepicker-selected div{background-color:var(--color);color:#FFF}.ui-dark .ui-datepicker-date i{color:red}.ui-dark .ui-datepicker-months > div:hover > div{border-color:#505050;color:#FFF}.ui-dark .ui-datepicker-years > div:hover > div{border-color:#505050;color:#FFF}.ui-dark .ui-datepicker-header{border-bottom-color:#404040}.ui-dark .ui-datepicker-prev{color:#FFF}.ui-dark .ui-datepicker-next{color:#FFF}.ui-dark .ui-datepicker-prev:hover,.ui-dark .ui-datepicker-next:hover{background-color:#303030}.ui-dark .ui-datepicker-info > span:hover{color:#FFF}.ui-dark .ui-datepicker-week > div{color:#FFF;border-bottom-color:#404040}.ui-dark .ui-datepicker-date:hover > div{border-color:#505050;color:#FFF}.ui-dark .ui-datepicker-selected:hover > div{border-color:var(--color);color:#FFF}
		.ui-icons-area{position:absolute;left:0;right:0;bottom:0;top:0;z-index:100}.ui-icons-container{position:absolute;z-index:1;border:1px solid #E0E0E0;font-size:14px;color:#000;width:330px;background-color:#FFF;box-shadow:0 5px 10px rgba(0,0,0,0.08);border-radius:var(--radius);overflow:hidden}.ui-icons-header{height:50px;background-color:#fcfcfc;border-bottom:1px solid #e0e0e0;padding:10px 0 0}.ui-icons-nav{padding:13px 5px 6px;text-align:center}.ui-icons-nav span{cursor:pointer;font-size:24px;width:11%;display:inline-block;user-select:none}.ui-icons-search{padding:0 10px}.ui-icons-search span{float:left;width:30px;text-align:center;height:30px;padding:7px 0 0;font-size:12px;background-color:#FFF;border:1px solid #e0e0e0;border-radius:var(--radius) 0 0 var(--radius);color:#A0A0A0;cursor:pointer}.ui-icons-search .ti-times{color:#ff0000}.ui-icons-search div{margin-left:30px}.ui-icons-search-input{margin:0;width:100%;border:1px solid #e0e0e0;padding:0 9px;height:30px;border-radius:0 var(--radius) var(--radius) 0;border-left:0;appearance:none}.ui-icons-search-input:focus{outline:none}.ui-icons-scroll{overflow:auto;height:305px}.ui-icons-content{position:relative;padding:5px}.ui-icons-content span{padding:5px;cursor:pointer;font-size:20px;width:12.5%;height:30px;display:inline-block;text-align:center;user-select:none;color:#404040}.ui-icons-content span:hover{transform:scale(1.15);color:#000}.ui-icons-scrollbar{height:305px}.ui-dark .ui-icons-container{background-color:#202020;border-color:#303030}.ui-dark .ui-icons-header{background-color:#202020;border-color:#303030}.ui-dark .ui-icons-content{color:#A0A0A0}.ui-dark .ui-icons-search span{background-color:#252525;border-color:#303030;color:#A0A0A0}.ui-dark .ui-icons-search-input{border-color:#303030;background-color:#1f1f1f;color:#FFF}.ui-dark .ui-icons-content span{color:#A0A0A0}.ui-dark .ui-icons-content span:hover{color:#FFF}@media(max-width:767px){.ui-icons .ui-icons-nav span{cursor:pointer;font-size:26px}.ui-icons .ui-icons-content span{min-width:45px}}
		.ui-approve-noscroll,.ui-approve-noscroll body{overflow:hidden}.ui-approve{background-color:rgba(255,255,255,0.9);position:fixed;left:0;right:0;bottom:0;top:0;z-index:100;width:100%;display:table;height:100%;transition:0.5s all;opacity:0}.ui-approve > div{display:table-cell;vertical-align:middle;text-align:center;color:#FFF;padding:15px}.ui-approve-body{color:#000;padding:0;position:relative;display:inline-block;max-width:300px;text-align:left;transform:scale(0.8);transition:0.15s all;border:0;background-color:#FFF;box-shadow:0 0 30px rgba(0,0,0,0.1)}.ui-approve-content{padding:50px 30px;text-align:center}.ui-approve-content > i{font-size:50px;display:block;margin-bottom:10px}.ui-approve-buttons{height:40px}.ui-approve button{font-size:12px;float:left;cursor:pointer;outline:0;background-color:#E0E0E0;border:0;border-radius:0;color:gray;padding:0;width:50%;height:40px;font-weight:normal;margin:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ui-approve button i{margin-right:5px}.ui-approve button:hover{opacity:0.9}.ui-approve-close{position:absolute;color:#C0C0C0;font-size:11px;right:8px;top:5px;cursor:pointer}.ui-approve-close:hover{color:#A0A0A0}.ui-approve-visible{opacity:1}.ui-approve-visible .ui-approve-body{-webkit-transform:scale(1);transform:scale(1)}.ui-approve-click{transform:scale(1.07) !important}.ui-dark .ui-approve{background-color:rgba(0,0,0,0.9)}.ui-dark .ui-approve-body{background-color:#202020}.ui-dark .ui-approve-content{border-bottom-color:#303030;color:#FFF}.ui-dark .ui-approve button{background-color:#505050;color:#C0C0C0}.ui-dark .ui-approve-close{color:#505050}.ui-dark .ui-approve-close:hover{color:#888}.ui-approve button[data-index='0']{color:#FFF;font-weight:bold;font-weight:bold;background-color:#EC2C28}@media(max-width:340px){.ui-approve button{display:block;margin:8px 0 0;display:block;width:100%;height:34px;font-size:13px}}
		.ui-clipboard{position:absolute;left:-100px;top:-100px;height:1px;width:1px}
		.ui-directory-area{position:absolute;left:0;top:0;right:0;bottom:0;z-index:99}.ui-directory{position:absolute;opacity:0;transition:0.25s transform cubic-bezier(0.23,1,0.32,1);left:-100;top:-100;z-index:100;box-shadow:0 1px 20px rgba(0,0,0,0.1);background-color:#FFF;border-radius:var(--radius);border:1px solid #E0E0E0;overflow:hidden;transition:all 0.2s}.ui-directory-search{height:42px;background:#FFF;border-radius:var(--radius) var(--radius) 0 0;border-bottom:1px solid #E0E0E0;line-height:26px}.ui-directory-search input{width:100%;background-color:#FFF;border:0;font-size:14px;outline:0;padding:0;margin:0;line-height:28px;outline:0}.ui-directory-search > div{margin:0 22px 0 35px;padding:6px 10px 0 0;line-height:24px}.ui-directory-search > span{float:left;width:16px;text-align:center;padding:7px 0 0 12px;font-size:14px}.ui-directory-add{float:right !important;padding-left:0 !important;color:#83c83c;text-align:left !important;font-size:14px !important;cursor:pointer;width:24px !important;font-weight:bold;padding-top:8px}.ui-directory .ui-disabled{color:#A0A0A0 !important;cursor:not-allowed}.ui-directory-search .ti-times{color:red;cursor:pointer}.ui-directory-visible{opacity:1}.ui-directory-container{height:180px;overflow-x:hidden;overflow-y:auto;overflow-scrolling:touch;margin:0 30px 0 0;padding:0}.ui-directory ul{list-style-type:none;margin:0;padding:0}.ui-directory .selected{background-color:#F8F8F8;color:#000}.ui-directory .current{background-color:#F2F2F2;color:#000}.ui-directory-default li{padding:0 40px 0 10px;height:32px;line-height:32px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ui-directory li{border-bottom:1px solid #F0F0F0;font-size:14px;background-color:#FFF;cursor:pointer;margin:0}.ui-directory-checkbox{width:16px;height:16px;float:left;border:1px solid #D0D0D0;border-radius:var(--radius);font-size:10px;line-height:16px;margin:8px 6px 0 0;text-align:center;background-color:#FFF}.ui-directory-checkbox i{visibility:hidden}.ui-directory .selected .ui-directory-checkbox{background-color:#4285F4;border-color:#4285F4;color:#FFF}.ui-directory .selected .ui-directory-checkbox i{visibility:visible}.ui-directory li:last-child{border-bottom:0}.ui-directory-search-hidden .ui-directory-search{height:0;overflow:hidden;opacity:0}.ui-dark .ui-directory .ui-disabled{color:#666 !important}.ui-dark .ui-directory{background-color:#303030;border-color:#404040;box-shadow:1px 5px 10px rgba(0,0,0,0.2)}.ui-dark .ui-directory-search{background:#303030}.ui-dark .ui-directory li{background-color:#303030;border-color:#404040}.ui-dark .ui-directory-search{border-bottom-color:#404040}.ui-dark .ui-directory-search input{background-color:#303030}.ui-dark .ui-directory-add:hover{color:#FFF}.ui-dark .ui-directory-checkbox{border-color:#484848;background-color:#404040}.ui-dark .ui-directory .selected{background-color:#2D2D2D;color:#FFF}.ui-dark .ui-directory .current{background-color:#373737;color:#FFF}
		.ui-loading{position:fixed;width:100%;height:100%;background-color:rgba(255,255,255,0.8);left:0;top:0;z-index:1000}.ui-loading-1 > div{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSI4LjA0MiUiIHkxPSIwJSIgeDI9IjY1LjY4MiUiIHkyPSIyMy44NjUlIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iI0EwQTBBMCIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0EwQTBBMCIgc3RvcC1vcGFjaXR5PSIuNjMxIiBvZmZzZXQ9IjYzLjE0NiUiLz48c3RvcCBzdG9wLWNvbG9yPSIjQTBBMEEwIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMwLTkuOTQtOC4wNi0xOC0xOC0xOCIgc3Ryb2tlPSJ1cmwoI2EpIiBzdHJva2Utd2lkdGg9IjIiPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiBmcm9tPSIwIDE4IDE4IiB0bz0iMzYwIDE4IDE4IiBkdXI9IjAuOXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PC9wYXRoPjxjaXJjbGUgZmlsbD0iI0EwQTBBMCIgY3g9IjM2IiBjeT0iMTgiIHI9IjEiPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiBmcm9tPSIwIDE4IDE4IiB0bz0iMzYwIDE4IDE4IiBkdXI9IjAuOXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+PC9jaXJjbGU+PC9nPjwvc3ZnPg==) no-repeat 50% 50%;background-size:80px 80px;width:80px;height:80px;position:absolute;left:50%;top:50%;margin:-40px 0 0 -40px}.ui-loading-2 > div{min-height:5px;background-color:#4285f4;width:0;position:absolute;z-index:1;animation:loadinganimation 5s infinite}.ui-loading-1 .ui-loading-text{position:absolute;width:250px;text-align:center;margin:90px 0 0 -125px;left:50%;font-size:12px;color:#000;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ui-loading-2 .ui-loading-text{font-size:11px;padding:0 5px}.ui-loading-text i{margin-right:5px}.ui-dark .ui-loading{background-color:rgba(0,0,0,0.8)}.ui-dark .ui-loading > div{color:#FFF}@keyframes loadinganimation{0%{left:0}60%{left:0;width:100%}70%{left:70%;width:30%}90%{left:100%;width:30%}100%{left:0;width:0}}
		.ui-menu-area{position:absolute;left:0;right:0;bottom:0;top:0;z-index:100}.ui-menu{position:absolute;z-index:1;transform-origin:top left;padding:10px 0}.ui-menu-items{background-color:#FFF;padding:5px 0;border-radius:var(--radius);box-shadow:2px 5px 10px rgba(0,0,0,0.05);border:1px solid #E0E0E0;position:relative}.ui-menu-submenu{position:absolute;z-index:101;background-color:#FFF;padding:5px 0;border-radius:var(--radius);box-shadow:2px 5px 10px rgba(0,0,0,0.05);border:1px solid #E0E0E0}.ui-menu-visible{}.ui-menu ul{margin:0;padding:0}.ui-menu li{margin:0;padding:5px;list-style-type:none;font-size:12px;cursor:pointer}.ui-menu-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:15px}.ui-menu-note{font-size:10px;margin:0 10px 3px 35px;color:#A0A0A0;line-height:11px}.ui-menu-nofa .ui-menu-note{margin-left:0}.ui-menu-selected{background-color:#F5F5F5}.ui-menu li:hover{background-color:#F0F0F0}.ui-menu-nofa{padding-left:12px !important}.ui-menu .pull-right{margin:1px 5px 0 0;width:20px;text-align:right;font-size:10px}.ui-menu-name i{width:30px;margin:0 5px 0 0;text-align:center;color:#000}.ui-menu-name b{position:absolute;right:10px;font-size:11px;color:gray;margin:1px 5px 0}.ui-menu-divider{padding:0 !important;background:transparent !important;cursor:default !important;color:gray;font-size:11px !important}.ui-menu-divider span{display:block;margin:5px 12px}.ui-menu-divider hr{margin:5px 0;border-color:#E0E0E0}.ui-menu li.ui-menu-disabled{color:#a0a0a0;background-color:#FFF;cursor:not-allowed}.ui-menu li.ui-menu-disabled i{color:#c5c5c5}.ui-menu-style-2 .ui-menu-items{border-radius:var(--radius)}.ui-menu-style-2 li{margin:2px 10px;padding:7px 2px;border-radius:var(--radius);font-size:13px}.ui-menu-style-2 .pull-right{margin-top:3px}.ui-menu-style-2 .ui-menu-submenu{border-radius:var(--radius)}.ui-menu-style-2 .ui-menu-divider{margin:7px 0}.ui-menu-style-2 .ui-menu-divider span{padding-left:10px}.ui-dark .ui-menu b{color:#505050}.ui-dark .ui-menu-items,.ui-dark .ui-menu-submenu{background-color:#303030;border-color:#353535;box-shadow:1px 5px 10px rgba(0,0,0,0.2)}.ui-dark .ui-menu-name i{color:#FFF}.ui-dark .ui-menu-selected{background-color:#252525}.ui-dark .ui-menu li:hover{background-color:#202020}.ui-dark .ui-menu-divider hr{border-color:#404040}.ui-dark .ui-menu-note{color:#777}.ui-dark .ui-menu li.ui-menu-disabled{background-color:#303030;color:#656565}.ui-dark .ui-menu li.ui-menu-disabled i{color:#525252}.ui-large .ui-menu-divider{font-size:14px !important}.ui-large .ui-menu li{font-size:14px;padding:7px 15px}.ui-large.ui-menu li{font-size:14px;padding:7px 15px}.ui-large .ui-menu-note{font-size:13px}@media (max-width:600px){.ui-menu-mobile.ui-menu-style-1 .ui-menu-divider{margin:7px 0;font-size:13px !important}.ui-menu-mobile.ui-menu-style-1 li{margin:0;padding:5px 8px;list-style-type:none;font-size:15px;cursor:pointer}.ui-menu-mobile.ui-menu-style-2 li{margin:2px 10px;padding:6px 5px;border-radius:var(--radius);font-size:15px}.ui-menu-mobile.ui-menu-style-2 .ui-menu-divider{margin:7px 0;font-size:13px !important}.ui-menu-mobile.ui-menu-style-2 .ui-menu-divider span{padding-left:12px}.ui-menu-mobile .ui-menu-note{font-size:12px}}
		.ui-message{background-color:rgba(255,255,255,0.9);position:fixed;left:0;right:0;bottom:0;top:0;z-index:1010;width:100%;display:table;height:100%;transition:0.3s all;opacity:0}.ui-message > div{display:table-cell;vertical-align:middle;text-align:center;padding:15px}.ui-message-body{padding:30px 25px 20px;position:relative;display:inline-block;color:#000;border-radius:var(--radius);max-width:500px;text-align:left;transform:scale(1.5);transition:0.2s all;box-shadow:0 5px 20px rgba(0,0,0,0.1);background-color:#FFF;border-width:3px;border-style:solid}.ui-message-warning .ui-message-body{border-color:#DA4453;min-width:300px}.ui-message-success .ui-message-body{border-color:#8CC152;min-width:300px}.ui-message-info .ui-message-body{border-color:var(--color);min-width:300px}.ui-message button{display:block;min-width:100px;margin:20px auto 0;cursor:pointer;outline:0;background-color:#FFF;border:1px solid #E0E0E0;border-radius:var(--radius);color:#000;padding:0 20px;height:34px;font-weight:bold}.ui-message button:hover{background-color:#F0F0F0}.ui-message button:active{border-color:#D0D0D0}.ui-message-icon{border-radius:100px;width:60px;height:60px;padding:0;line-height:54px;font-size:30px;text-align:center;position:absolute;left:50%;border:4px solid #3BAFDA;margin-left:-30px;z-index:5;background-color:#FFF;color:#3BAFDA;margin-top:-40px;transform:scale(2);transition:all 0.3s}.ui-message-icon-animate{transform:scale(1)}.ui-message-success .ui-message-icon{border-color:#8CC152;color:#8CC152}.ui-message-warning .ui-message-icon{border-color:#DA4453;color:#DA4453}.ui-message-info .ui-message-icon{border-color:var(--color);color:var(--color)}.ui-message-error i{margin-right:5px;color:red}.ui-message-visible{opacity:1}.ui-message-visible .ui-message-body{transform:scale(1)}.ui-message2{background-color:rgba(220,220,220,0.9)}.ui-message2 .ui-message-body{padding:110px 0 0;border-width:0;border-radius:var(--radius);max-width:400px}.ui-message2 .ui-message-text{padding:0 20px 30px;text-align:center}.ui-message2 hr{display:none}.ui-message2 button{width:100%;border:0 !important;color:#FFF;border-radius:0 0 var(--radius) var(--radius);height:40px;margin:0}.ui-message2 button:hover{opacity:0.9}.ui-message2.ui-message-success button{background-color:#8CC152}.ui-message2.ui-message-warning button{background-color:#DA4453}.ui-message2.ui-message-info button{background-color:var(--color)}.ui-message2 .ui-message-icon{margin-top:30px;border-radius:0;border:0;background:transparent !important;font-size:50px}.ui-dark .ui-message2,.ui-dark .ui-message{background-color:rgba(50,50,50,0.9)}.ui-dark .ui-message-body{background-color:#202020;color:#FFF}.ui-dark .ui-message button{background-color:#404040;border-color:#404040;color:#FFF}.ui-dark .ui-message button:hover{background-color:#444}.ui-dark .ui-message button:active{border-color:#505050}.ui-dark .ui-message2.ui-message-success button{background-color:#8CC152}.ui-dark .ui-message2.ui-message-warning button{background-color:#DA4453}.ui-dark .ui-message2.ui-message-info button{background-color:var(--color)}.ui-dark .ui-message-icon{background-color:#202020}.ui-dark .ui-message hr{border-color:#404040}
		.ui-prompt-noscroll,.ui-prompt-noscroll body{overflow:hidden}.ui-prompt-container{position:fixed;left:0;right:0;bottom:0;top:0}.ui-prompt-body{background-color:#FFF;margin:20px auto;border-radius:10px;box-shadow:0 2px 30px rgba(0,0,0,0.2);overflow:hidden;border:1px solid #D0D0D0;width:100%;padding:20px}.ui-prompt-title{font-size:16px;color:#000;margin:0 0 5px;font-weight:bold}.ui-prompt-summary{font-size:13px;color:#777;margin:0 0 7px}.ui-prompt-input{border:2px solid #E0E0E0;padding:2px 5px;border-radius:var(--radius)}.ui-prompt-input input{width:100%;border:0;background:transparent;height:24px;outline:0}.ui-prompt-buttons{text-align:right;margin:5px 0 0}.ui-prompt-centered .ui-prompt-area{width:100%;height:100%;display:grid;align-items:center}.ui-prompt button{border:0;margin:15px 0 0;background-color:#F0F0F0;height:34px;padding:0 15px;color:#000;cursor:pointer;font-family:Arial;line-height:34px;vertical-align:middle;outline:0;font-size:14px;text-decoration:none;transition:all 0.3s;min-width:90px}.ui-prompt button i{width:15px;text-align:center;margin-right:5px}.ui-prompt button:hover{opacity:0.9}.ui-prompt button:active{background-color:#D0D0D0}.ui-prompt button:disabled{background-color:#F5F5F5 !important;color:silver !important;cursor:not-allowed;box-shadow:none}.ui-prompt button:first-child{border-top-left-radius:var(--radius);border-bottom-left-radius:var(--radius)}.ui-prompt button:last-child{border-top-right-radius:var(--radius);border-bottom-right-radius:var(--radius)}.ui-prompt button[name='submit']{font-weight:bold;background-color:var(--color);color:#FFF}.ui-dark .ui-prompt-body{background-color:#303030;border-color:#404040}.ui-dark .ui-prompt-title{color:#FFF}.ui-dark .ui-prompt-summary{color:#888}.ui-dark .ui-prompt-input{border-color:#555;background-color:#222}.ui-dark .ui-prompt-input input{background:transparent}.ui-dark .ui-prompt button{background-color:#505050;color:#E0E0E0}.ui-dark .ui-prompt button:active{background-color:#404040}.ui-dark .ui-prompt button:disabled{background-color:#303030 !important;color:#606060 !important}.ui-dark .ui-prompt button[name='submit']{background-color:var(--color);color:#FFF}
	</style>
</head>
<body>

	<script>!function(g){var v=/CLASS/g,b='UIBuilder:';function u(e){var t=this;t.id=e.id,t.query=e.query,t.app=e,t.cache=e.cache,t.class=e.class,t.components=e.components,t.instances=[],t.events={},t.refs={}}function y(e){var t,n='';return n='/'!==e.charAt(0)?-1===(t=e.indexOf('/',9))?e:e.substring(0,t):n}function f(e){var t,n={},i={},o=!1;e.$rebindtimeout=null;for(r of e.instances)r.config.path&&'@'===r.config.path.charAt(0)&&(t=r.config.path.substring(1))!=r.id&&(n[t]?n[t].push(r):n[t]=[r],i[r.id]=t,o=!0);if(o)for(var r of e.instances)r.binded=n[r.id]||null,r.binder=i[r.id]?e.instances.findItem('id',i[r.id]):null}function p(){}function m(){var e=this;e.state={init:0,value:null,disabled:!1,modified:!1,readonly:!1,touched:!1,invalid:!1,delay:10,notify:!1,bind:!1,validate:!0},e.cache={},e.events={},e.$inputs={},e.$outputs={},e.iseditor=g.editor}u.prototype.find=function(e){var t,n='.'===e.charAt(0)?e.substring(1):'',e=n?'':'@'===e.charAt(0)?e.substring(1):e;for(t of this.instances)if(n){if(t.config.path===n)return t}else if(t.id===e)return t},u.prototype.urlify=function(){return this.app.urlify.apply(this.app,arguments),this},u.prototype.clfind=function(){return this.app.clfind.apply(this.app,arguments),this},u.prototype.clread=function(){return this.app.clread.apply(this.app,arguments),this},u.prototype.view=function(){return this.app.view.apply(this.app,arguments),this},u.prototype.clean=function(){return this},u.prototype.on=function(e,t){var n=this;n.events[e]?n.events[e].push(t):n.events[e]=[t]},u.prototype.rebind=function(){var e=this;e.$rebindtimeout&&clearTimeout(e.$rebindtimeout),e.$rebindtimeout=setTimeout(f,50,e)},u.prototype.emit=function(e,t,n,i,o,r){e=this.events[e];if(e)for(var s of e)s.call(this,t,n,i,o,r)},u.prototype.emitstate=function(e,t){var n,i={},o=e.instance,r=t=t||'state',s='noemit'+t,a=(e.instance.cache[r]=null,o.parent),c=0;for(e.level=0,e.type=t;a&&(e.level++,i[a.id]=!0,!a.fork)&&(a.events[t]&&(c++,a.emit(t,e)),!e.$propagation);)a=a.parent;e.level=null,t='@'+t;for(n of this.instances)i[o.id]||n===e.instance||n.events[t]&&(c++,n.emit(t,e));o.state[s]=0===c},customElements.define('uibuilder-app',class extends HTMLElement{constructor(){super(),setTimeout(()=>this.compile(),1)}compile(){var h={},n=this,g=0,v=(h.id=n.getAttribute('uid')||'',h.id||(h.id=Date.now().toString(36)+GUID(5)),h.name=n.getAttribute('name')||'',h.css=n.getAttribute('css')||void 0,h.version=n.getAttribute('version')||'1',h.icon=n.getAttribute('icon')||void 0,h.args=(n.getAttribute('args')||'').parseConfig(),h.children=[],h.components={},function(e,t,n){var i,o,r,s=[],a=[];for(i of t.children)switch(i.tagName){case'UIBUILDER-CONTAINER':s.push(i);break;case'UIBUILDER-BRICK':var c=i.$uibuilderbrick={};if(c.id=i.getAttribute('uid')||'instance'+g++,c.component=i.getAttribute('name')||i.getAttribute('component'),c.component){c.config=(i.getAttribute('config')||'').parseConfig(),c.x=i.getAttribute('x')||'',c.x=c.x?c.x.parseInt():void 0,c.y=i.getAttribute('y')||'',c.y=c.y?c.y.parseInt():void 0,c.zindex=i.getAttribute('zindex')||'',c.zindex=c.zindex?c.zindex.parseInt():void 0,c.children=[],c.iscontainer='UIBUILDER-CONTAINER'===i.parentNode.tagName;for(var l of i.children)if('SCRIPT'===l.tagName){var f=PARSE(l.innerHTML);if(f)for(var u in f)c.config[u]=f[u]}var p=i.getAttribute('path');p&&(c.config.path=p),a.push(i),h.components[c.component];h.components[c.component]||(h.components[c.component]=i.getAttribute('source')||'@')}else W.console&&W.console.warn(b,'Invalid brick declaration.',i)}n&&!s.length&&(e.push(t=[]),e=t);for(o of a){var d=o.$uibuilderbrick;if(e.push(d),o.children.length){let e=d.children;d.iscontainer||(e=[],d.children.push(e)),v(e,o)}}for(r of s){var m=[];e.push(m),v(m,r)}});v(h.children,n,!0),UIBuilder.build(n,h,function(e){var t=n.getAttribute('load');(t=t&&GET(t))&&'function'==typeof t&&t(e)})}}),customElements.define('uibuilder-brick',class extends HTMLElement{constructor(){super()}}),customElements.define('uibuilder-container',class extends HTMLElement{constructor(){super()}}),customElements.define('uibuilder-component',class extends HTMLElement{constructor(){super(),setTimeout(()=>this.compile(),1)}compile(){var e,t=this,n=t.parentNode,i=g.selectors.component.substring(1);for(t.classList.add('block');n;){if('BODY'===n.tagName)return;if(n.classList.contains(i)){e=n.uibuilder;break}n=n.parentNode}var o,r=!0,s=(e.fork||(r=!1,e.fork=new u(e.app),e.fork.element=e.element,e.fork.compile=h,e.root=e),(t.getAttribute('config')||'').parseConfig()),a={},c=(a.id=t.getAttribute('uid')||'ui'+GUID(10),a.config=s||{},a.component=t.getAttribute('name'),!1);for(o in s)if('#'===s[o]){var l=t.children[0];if(l&&'SCRIPT'===l.tagName)switch(l.getAttribute('type')){case'application/json':case'text/json':s[o]=PARSE(l.innerHTML.trim());break;case'text/html':case'text/plain':s[o]=l.innerHTML.trim()}else s[o]=t.innerHTML;c=!0}c&&(t.innerHTML='');var f=t.getAttribute('path'),f=(f&&(s.path=f),e.fork.components[a.component]);f?(t.innerHTML&&(s.name=t.innerHTML.trim(),t.innerHTML=''),s.name||(s.name=f.name),(s.$bind||t.getAttribute('bind'))&&(a.bind=!0),(s.$notify||t.getAttribute('notify'))&&(a.notify=!0),a.readonly=!0,e.fork.compile(t,a,null,null,t),t.uibuilder&&(t.uibuilder.parent=e),e.fork.rebind(),(f=t.classList).remove('invisible'),f.remove('hidden'),r||setTimeout(e=>e.emit('fork',e.fork),1,e)):(console.error(b,'The component not found: '+a.component),t.parentNode.removeChild(t))}}),p.prototype.stopPropagation=function(){this.$propagation=!0};function i(){return''}var r,e=m.prototype;e.$forcecheck=function(e){e.$checktimeout=null;var t=!1;e.state.disabled||e.state.readonly?t=!1:e.validate&&(!0===(t=e.validate())||1===t||''===t||t instanceof Array&&!t.length?t=!1:!1!==t&&0!==t||(t=!0)),e.set('invalid',t)},e.$forcechange=function(e){e.$changetimeout=null,e.app.emit('change',e)},e.errors=function(){var e,t=[],n=this.state.invalid,i=typeof n;if(n&&'boolean'!=i&&'number'!=i)if('string'==i)t.push({error:n});else if(n instanceof Array)for(var o of n)o&&('string'==typeof o?t.push({error:o}):(e=o.error||o.err||o.msg||o.message)&&t.push({error:e}));else(e=n.error||n.err||n.msg||n.message)&&t.push({error:e});return t},e.change=function(){var e=this;e.app.events.change&&(e.$changetimeout&&clearTimeout(e.$changetimeout),e.$changetimeout=setTimeout(e.$forcechange,50,e))},e.check=function(e){var t=this;if(!1!==t.state.validate)return t.$checktimeout&&clearTimeout(t.$checktimeout),e?t.$forcecheck(t):t.$checktimeout=setTimeout(t.$forcecheck,50,t),t};function o(e,t,n,i){var o={};o.id=e.id+'_'+t.id,o.instanceid=e.id,o.componentid=e.component.id,o.ref=t.id,o.icon=t.icon,o.color=t.color,o.note=t.note,o.name=t.name,o.component=e.component,o.app=e.app,o.instance=e,o.err=n,o.data=i,e.app.emit('output',o),g.emit('output',o)}function s(){r=null;var e,t=[];for(e in g.components){var n=g.components[e];n.css&&t.push(n.css)}CSS(t,'uibuilder')}function h(e,t,n,i,o,r){var s=this,a=s.components[t.component];if(a){var c=o||document.createElement('DIV'),f=new m;if(c.classList.add('ui_'+a.id),t.gap&&c.classList.add('UI_gap'),a.floating&&(c.classList.add('UI_floating'),c.style='left:{0}px;top:{1}px;z-index:{2};position:absolute'.format(t.x||0,t.y||0,t.zindex||1)),t.bind&&(f.state.bind=!0),t.notify&&(f.state.notify=!0),a.config||(a.config={}),f.id=t.id,f.args=s.args,f.newbie=r||t.newbie,f.element=$(c),f.element.aclass(g.selectors.component.substring(1)+' '+a.cls).attrd('id',t.id),f.dom=c,f.events={},f.config=CLONE(a.config),f.app=s,f.component=a,f.protected=t.protected,f.meta=t,f.edit=I,t.newbie&&delete t.newbie,o&&(f.forked=!0),t.config)for(var l in t.config)f.config[l]=t.config[l];if(f.config.name||(f.config.name=a.name),s.instances.push(f),o&&(r=e.getAttribute('uid'))&&(s.refs[r]=f),c.uibuilder=f,!o){var u=e.closest(g.selectors.component);if(u&&u.length&&(f.parent=u[0].uibuilder,f.parent)&&((r=f.parent).children||(r.children=[]),r.containers||(r.containers={}),l='container'+n,r.children.push(f),r.containers[l]?null==i?r.containers[l].push(f):r.containers[l].splice(i,0,f):r.containers[l]=[f]),u=$(e),null==i)u.append(c);else{for(var p=!1,d=0;d<u[0].children.length;d++)if(d===i){u[0].insertBefore(c,u[0].children[d]),p=!0;break}p||u.append(c)}}a.make&&a.make(f,f.config,f.element,f.component.cls,g.editor),g.events.make&&g.emit('make',f),o||(t.children instanceof Array?setTimeout(function(e,t){for(var n=k(e,t.id),i=0;i<t.children.length;i++){var o=n.findItem('index',i);if(o)for(l of t.children[i])e.compile(o.element,l,i)}var r=e.components[t.component];if(r.children)for(var s={},a=CLONE(r.children),c=function(e){for(var t of e)for(var n of t)s[n.id]=f.id+'X'+HASH(n.id).toString(36),n.children&&n.children.length&&c(n.children)},r=(c(a),Object.keys(s)),r=new RegExp(r.join('|'),'g'),a=PARSE(JSON.stringify(a).replace(r,e=>s[e])),i=0;i<a.length;i++){var l,o=n.findItem('index',i);if(o)for(l of a[i])e.compile(o.element,l,i)}e.refreshio()},1,s,t):s.refreshio())}else console.error(b,'The component "{0}" not found'.format(t.component))}function A(){for(var e=0,t=0,n=[];;){var i=this.instances[e];if(!i)break;if(function(e){if(e){if('BODY'===e.tagName)return 1;for(var t=e.parentNode;t;){if('BODY'===t.tagName)return 1;t=t.parentNode}}}(i.dom))e++;else{if(t++,i.removecss)for(var o of i.removecss)CSS('',o);i.events.destroy&&i.emit('destroy'),this.instances.splice(e,1),n.push(i)}}if(this.refreshio(),t)for(var r of this.instances)r.events.refresh&&r.emit('refresh',{type:'remove',items:n})}e.maketemplate=function(e){var t,n=this;return(e=e||n.component.html)?(t=HASH(e).toString(36),n.app.cache[t]||(n.app.cache[t]=-1===e.indexOf('{{')?()=>e:Tangular.compile(e)),n.app.cache[t]):i},e.error=function(e){var t=this.config;console.error(b,this.component.name+' - '+t.name+(t.path?' ({0})'.format(t.path):''),e)},e.clone=function(e){return e='object'!=typeof e||!e||e instanceof Date?e:CLONE(e)},e.set=function(e,t,n,i){var o,r,s,a=this,c=!1;switch(e){case'disabled':case'modified':case'readonly':case'touched':c=!0,t=!!t;break;case'invalid':c=!0}if('touched'===e&&a.check(),a.state.noemitsomething||((s=a.cache.something)?a.cache.something.changes[e]=1:((s=a.cache.something=new p).id=a.id,s.instance=a,s.state=a.state,s.element=a.element,s.changes={},s.changes[e]=1,s.kind=n,setTimeout(e=>e.app.emitstate(e.cache.something,'something'),222,a))),'force'!==n&&(null==t||'object'!=typeof t)&&a.state[e]===t)return!1;if(a.state[e]=t,a.events.set&&a.emit('set',e,t,n),a.change(),'value'===e){if(a.events.value&&a.emit('value',t,n),a.binded)for(var l of a.binded)l!==i&&(o=a.clone(t),l.state.notify?l.emit('notify',o,a):l.set('value',o,i?'noemitstate':'',a));a.binder&&a.binder!==i&&(r=a.clone(t),a.binder.state.notify?a.binder.emit('notify',r,a):a.binder.set('value',r,i?'noemitstate':'',a)),a.check()}return'noemitstate'!==n?(c&&a.element.tclass('UI_'+e,!!t),a.state.noemitstate||((s=a.cache.state)?a.cache.state.changes[e]=1:((s=a.cache.state=new p).id=a.id,s.instance=a,s.state=a.state,s.element=a.element,s.changes={},s.changes[e]=1,s.kind=n,setTimeout(e=>e.app.emitstate(e.cache.state),a.state.delay,a))),!0):void 0},e.input=function(e,t){return this.$inputs[e]=t,this},e.output=function(e,t){var n=this,i=(n.outputs||n.component.outputs||EMPTYARRAY).findItem('id',e);if(i)return void 0!==t?'function'==typeof t?n.$outputs[e]=t:o(n,i,null,t):(t=n.$outputs[e])&&t((e,t)=>o(n,i,e,t)),n;console.error(b,'Output "{0}" not found in the "{1}" component'.format(e,n.component.name))},e.family=function(e){var n=[],i=function(e){if(e.children)for(var t of e.children)n.push(t),t.component.scope||i(t)};if(null!=e){'object'==typeof e&&(e=ATTRD(e,'index'));e=this.containers?this.containers['container'+e]:null;if(e)for(var t of e)n.push(t),i(t)}else i(this);return n},e.remove=function(){this.element.remove(),this.app.clean()},e.readvalue=function(e){return e?(e=this.find(e))?e.state.value:null:this.state.value},e.view=function(e,t,n){return e&&('function'==typeof t&&(n=t,t=null),'#'===e.charAt(0)&&(e=e.substring(1)),this.app.view(e,t,n)),this},e.datasource=function(e,t){var n,i,o=this;return e&&(n=function(e){e&&(e=!(e instanceof Array)&&e.items instanceof Array?e.items:e)instanceof Array&&t(CLONE(e))},'#'===(i=e.charAt(0))?o.view(e,null,t):'@'===i?(i=o.find(e))&&(i.on('value',n),n(i.state.value)):o.clfind(e,n)),o},e.clfind=function(t,n,i){var o=this;if('function'==typeof n&&(i=n,n=''),!i)return new Promise(e=>o.app.clfind(t,n,e));var e=t.charAt(0);if('#'===e)o.view(t,{search:n},function(e){e?(e.items instanceof Array&&(e=e.items),i(e)):i([])});else{if('@'!==e)return o.app.clfind(t,n,i),o;e=o.find(t);if(e&&e.state.value instanceof Array){var r,s=[];n=n&&n.toSearch();for(r of e.state.value)!r.name||n&&-1===r.name.toSearch().indexOf(n)||s.push(r);i(s)}else i([])}},e.clread=function(t,n,i){var o=this;if(!i)return new Promise(e=>o.app.clread(t,n,e));var e=t.charAt(0);if('#'===e)o.view(t,{id:n},function(e){e?(e=e.items instanceof Array?e.items:e)instanceof Array?i(e.findItem('id',n)):i(e):i(null)});else{if('@'!==e)return o.app.clread(t,n,i),o;(e=o.find(t))&&e.state.value instanceof Array?i(e.state.value.findItem('id',n)):i(null)}},e.find=function(e){return this.app.find(e)},e.hidden=function(){return HIDDEN(this.dom)},e.reset=function(){return this.events.reset&&this.emit('reset'),this},e.reconfigure=function(e){var t=this,n={};if(e)for(var i in e){var o=t.config[i],r=e[i];r!==o&&(n[i]=o,t.config[i]=r)}if(t.events.configure&&t.emit('configure',n),g.editor){for(var s of t.app.instances)s.events.refresh&&s.emit('refresh',{type:'configure',item:t});t.app.refreshio()}return t},e.get=function(e){return this.state[e||'value']},e.on=function(e,t){var n;for(n of e.split(/\+|\s/).trim())this.events[n]?this.events[n].push(t):this.events[n]=[t]},e.off=function(e,t){var n;for(n of e.split(/\+|\s/).trim()){var i,o=this.events[n];o&&(t?-1!==(i=o.indexOf(t))&&(o.splice(i,1),o.length||delete this.events[n]):delete this.events[n])}return this},e.emit=function(e,t,n,i,o,r){e=this.events[e];if(e)for(var s of e)s.call(this,t,n,i,o,r)},g.makeimage=e.makeimage=function(e,t,n){var i=document.createElement('CANVAS'),e=(i.width=e,i.height=t,i.getContext('2d'));return e.fillStyle=n||'#D91500',e.fillRect(0,0,i.width,i.height),i.toDataURL('image/png')},e.bindable=function(e){return(!this.config.path||'@'!==this.config.path.charAt(0))&&this.config.path===e},e.write=function(e,t,n){if(!t||'@'===t.charAt(0))return n;for(var i=t.split('.'),o=0;o<i.length-1;o++){var r=e[i[o]];e=r=null==r?e[i[o]]={}:r}return e[i[o]]=n,e},e.include=function(o,d,r){var m=this,h=[];return(d.import||EMPTYARRAY).wait(function(e,t){g.cache[e]?t():(g.cache[e]=1,'/'===e.charAt(0)&&(e=(g.origin||'')+e),IMPORT(e,t))},function(){var p=Object.keys(d.components);p.wait(function(c,l){if(m.app.components[c])l();else{var e=d.components[c];if('string'==typeof e)if('@'===e||'#'===e)g.components[c]?m.app.pending.push({name:c,fn:g.components[c],local:!0}):console.error(b,'The component "{0}" not found.'.format(c)),l();else{var f,u=((t=e.split(' '))[1]||'').trim(),t=t[0].trim();if(u||(u=t,t=''),'base64'===(t=t&&'.'===t.charAt(0)?t.substring(1):t))try{var n=g.parsehtml(decodeURIComponent(atob(u))),i={};if(i.id=c,i.cls=m.app.class+'_'+HASH(i.id).toString(36),n.css&&(i.css=n.css),n.html&&(i.html=n.html.replace(v,i.cls)),new Function('exports',n.js.replace(v,i.cls))(i),i.components)for(var o in i.components)d.components[o]||(d.components[o]=i.components[o],p.push(o));h.push({name:c,fn:i})}finally{l()}else t&&'html'!==t&&'json'!==t||('@'===u.charAt(0)&&(u=u.substring(1)),f=(u=g.editor&&'/'===u.charAt(0)?(g.origin||'')+u:u).format(c),AJAX('GET '+f+(g.cachecomponents?' <{0}>'.format(1==g.cachecomponents?'session':g.cachecomponents):''),function(e,t){if(t)console.error(b,u,t),l();else if(ERROR(e))console.error(b,u,e),l();else if('object'==typeof e){var n=y(tmp);for(s in e){var i=e[s];'/'===i.charAt(0)&&(i=n+i),d.components[s]||(d.components[s]='@'+i,p.push(s))}l()}else{var t='@'===e.charAt(0),o=(t&&(e=e.substring(1)),g.parsehtml(e));try{var r={};if(r.id=c,r.isexternal=t,r.cls=m.app.class+'_'+HASH(r.id).toString(36),o.css&&(r.css=o.css),o.readme&&(r.readme=o.readme),o.html&&(r.html=o.html.replace(v,r.cls)),o.settings&&(r.settings=o.settings.replace(v,r.cls)),new Function('exports',o.js.replace(v,r.cls))(r),r.components)for(var s in r.components)d.components[s]||(d.components[s]=r.components[s],p.push(s));var a=u.indexOf('/',10);-1!==a&&(r.origin=u.substring(0,a),g.origin!==r.origin)&&(r.render&&'/'===r.render.charAt(0)&&(r.render=r.origin+r.render),r.settings)&&'/'===r.settings.charAt(0)&&(r.settings=r.origin+r.settings),'auto'===r.render&&(r.render=f.replace('editor.html','render.html')),'auto'===r.settings&&(r.settings=f.replace('editor.html','settings.html')),h.push({name:c,fn:r})}finally{l()}}}))}else h.push({name:c,fn:e}),l()}},function(){var e=h.splice(0),i=[];e.wait(function(e,t){var n=null;'function'==typeof e.fn?((n={}).id=e.name,n.cls=(e.local?'uibuilder':m.app.class)+'_'+HASH(n.id).toString(36),e.fn(n)):n=e.fn,m.app.components[e.name]=n,!e.local&&(n.css&&i.push(n.css.replace(v,n.cls)),n.import instanceof Array)?n.import.wait(function(e,t){g.cache[e]?t():(g.cache[e]=1,'/'===e.charAt(0)&&(e=(g.origin||'')+e),IMPORT(e,t))},t):t()},function(){var e;d.css&&i.unshift(d.css.replace(v,m.app.class)),i.length&&(e=m.app.class+'_'+GUID(5),CSS(i.join('\n'),e),m.removecss||(m.removecss=[]),m.removecss.push(e));for(var t,n=0;n<d.children.length;n++)for(t of d.children[n])m.app.compile(o,t,n);r&&r()})},3)}),m},e.watch=function(e,t,n){'function'==typeof t&&(n=t,t='value');e=this.find(e);return e&&e.on(t,n),this},e.read=function(e,t){if(t&&'@'!==t.charAt(0))for(var n=t.split('.'),i=0;i<n.length;i++)if(!(e=e[n[i]]))return e;return e},e.replace=e.variables=function(e,o,r){var s=this;return e.replace(/\{[a-z0-9_.-]+\}/gi,function(e){var t=e.substring(1,e.length-1).trim(),n='',i=t.substring(0,4);if('user'===i)W.user&&(n=-1===(t=t.substring(5)).indexOf('.')?W.user[t]:s.read(W.user,t));else if('args'===i)t=t.substring(5),n=s.args[t];else if('data'===i)o&&(n=-1===(t=t.substring(4)).indexOf('.')?o:s.read(o,t.substring(1)));else if('query'===t.substring(0,5)){if(-1===(t=t.substring(5)).indexOf('.'))return QUERIFY(s.query).substring(1);n=s.query[t.substring(1)]}else if('config'===t.substring(0,6)){if(-1===(t=t.substring(6)).indexOf('.'))return QUERIFY(s.config).substring(1);n=s.config[t.substring(1)]}if(null==n)return e;if('function'==typeof r)return r(n);switch(r){case'url':case'urlencode':case'encode':return encodeURIComponent(n);case'escape':case'html':return Thelpers.encode(n);case'json':return JSON.stringify(n)}return n})},e.wait=function(e,t){function n(){e()?t():setTimeout(n,300)}return n(),this},e.querify=function(e,t){return this.app.urlify(this.variables(t?QUERIFY(e,t):e))},e.urlify=function(e){return this.app.urlify(this.variables(e))},e.settings=function(){this.app.emit('settings',this),g.emit('settings',this)},g.version=1.23,g.selectors={component:'.UI_component',components:'.UI_components'},g.current='default',g.events={},g.apps={},g.cache={},g.components={},g.loader=0,g.component=function(e,t,n){var i,o;r&&clearTimeout(r),null==t&&'string'==typeof e&&(t=e,e=null),'string'==typeof t?(i={},e&&(i.id=e,i.cls='uibuilder_'+HASH(i.id).toString(36)),o=g.parsehtml('base64 '===t.substring(0,7)?decodeURIComponent(atob(t.substring(7))):t),new Function('exports',o.js.replace(v,i.cls))(i),t=i,o.css&&(t.css=o.css),o.html&&(t.html=o.html)):'function'==typeof e?(e(t={}),e=t.id):'function'==typeof t&&(t(t={id:e}),e=t.id),t.id||(t.id=e),t.cls||(t.cls='uibuilder_'+HASH(t.id).toString(36)),t.css&&(t.css=t.css.replace(v,t.cls)),t.html&&(t.html=t.html.replace(v,t.cls)),t.import instanceof Array?(g.loader++,t.import.wait(function(e,t){g.cache[e]?t():(g.cache[e]=1,'/'===e.charAt(0)&&(e=(g.origin||'')+e),IMPORT(e,t))},function(){g.loader--,r&&clearTimeout(r),r=setTimeout(s,2),g.components[e]=t,n&&n(null,t)})):(r&&clearTimeout(r),g.components[e]=t,n&&n(null,t))},g.resize=function(){for(var e in g.apps){var t,e=g.apps[e],n=e.element,i={width:n.width(),height:n.height(),display:WIDTH(n)};for(t of e.instances)t.events.resize&&t.emit('resize',i)}},ON('resize + resize2',g.resize),g.on=function(e,t){this.events[e]?this.events[e].push(t):this.events[e]=[t]},g.emit=function(e,t,n,i,o,r){e=this.events[e];if(e)for(var s of e)s.call(this,t,n,i,o,r)},g.register=function(e,t){g.apps[g.current].pending.push({name:e,fn:t})};var k=function(e,t){var n=e.element,i=[];for(n of n.find(g.selectors.component+'[data-id="{0}"] {1}'.format(t,g.selectors.components)))(n=$(n)).closest(g.selectors.component).attrd('id')===t&&i.push({index:+n.attrd('index'),element:n});return i.quicksort('index'),i};function x(e,t,n,i,o,r,s){if('string'==typeof n){if(!this.components[n])return void console.error(b,'The component "{0}" not found'.format(n));n={id:'cid'+Date.now().toString(36),component:n,children:[],config:n.config||{},gap:0!=n.gap}}if(r&&COPY(r,n),o)for(var a in o)n.config[a]=o[a];r=k(this,e);if(r.length)for(var c of r)c.index==t&&this.compile(c.element,n,t,i,null,s);return this.refreshio(),n}g.build=function(e,d,i){var t,a,m,o,c,l,n;if('string'==typeof d&&(d=PARSE(d)),g.loader)setTimeout(g.build,100,e,d,i);else if(g.apps[d.id])g.remove(d.id),setTimeout(g.build,100,e,d,i);else{if(d.components&&d.children)return g.current=d.id,t=document.createElement('DIV'),(a=$(t)).attrd('id',d.id),a.aclass('UI_app invisible'),a.empty(),$(e)[0].appendChild(t),o=[],(m={}).id=g.current,m.components={},m.args=d.args||{},m.query=d.query||CLONE(NAV.query),m.schema=d,m.events={},m.cache={},m.refs={},m.compile=h,m.stringify=O,m.clean=A,m.add=x,m.remove=()=>g.remove(m.id),m.class='ui_'+HASH(g.current).toString(36),m.element=a,m.dom=a[0],m.pending=[],m.instances=[],m.removecss=[],d.urlify?m.urlify=d.urlify:m.urlify=e=>e,a.aclass(m.class),m.view=function(e,t,n){g.view?g.view.call(m,e,t,n):n(EMPTYARRAY)},g.clfind?m.clfind=g.clfind:m.clfind=function(e,t,n){n(EMPTYARRAY)},g.clread?m.clread=g.clread:m.clread=function(e,t,n){n(EMPTYOBJECT)},m.on=u.prototype.on,m.find=u.prototype.find,m.emit=u.prototype.emit,m.emitstate=u.prototype.emitstate,m.intervalcounter=0,m.interval&&clearInterval(m.interval),m.interval=setInterval(function(t){if(W.inDOM(t.dom)){t.intervalcounter++;var e,n=e=>e.events.service&&e.emit('service',t.intervalcounter);for(e of t.instances)e.events.service&&e.emit('service',t.intervalcounter),e.fork&&c(e,n)}else t.remove()},6e4,m),m.recompile=function(){m.clean();for(var e,t=0;t<m.schema.children.length;t++)for(e of m.schema.children[t])e.protected=!0,m.compile(m.element,e,t)},m.build=function(e,t,n){t.urlify=m.urlify,g.build(e,t,n)},c=function(e,t){for(var n of e.fork.instances)t(n),n.fork&&c(n,t)},l=null,n=function(){if(l=null,g.editor){m.inputs=[],m.outputs=[],m.list=[],m.zindex=1;for(var e of m.instances)if(e.dom.parentNode){var t=e.component,n=(t.floating&&(m.zindex=(e.element.css('z-index')||'').parseInt(),m.zindex<=0)&&(m.zindex=1),e.inputs||t.inputs),i=e.config.name||t.name;if(m.list&&m.list.push({id:e.id,componentid:t.id,name:i,icon:t.icon,color:t.color}),n)for(var o of n)m.inputs.push({id:e.id+'_'+o.id,ref:o.id,name:i+(1<n.length?': '+o.name:''),componentid:t.id,component:t.name,input:o.name,icon:t.icon,color:t.color,note:o.note,schema:o.schema});if((n=e.outputs||t.outputs)&&n.length)for(var o of n)m.outputs.push({id:e.id+'_'+o.id,ref:o.id,name:i+(1<n.length?': '+o.name:''),componentid:t.id,component:t.name,output:o.name,icon:t.icon,color:t.color,note:o.note,schema:o.schema})}}if(!m.ready){m.ready=!0,m.callback&&m.callback(m),a.rclass('invisible'),f(m);function r(e){e.state.init=1,e.events.ready&&e.emit('ready')}var s;for(s of m.instances)s.fork&&c(s,r),s.state.init=1,s.events.ready&&s.emit('ready');g.emit('app',m),m.emit('ready')}m.emit('io',m),g.emit('io',m)},m.refreshio=function(e){e?n():(l&&clearTimeout(l),l=setTimeout(n,100))},m.input=function(e,t,n){n=n||NOOP;var i=e.indexOf('_'),o=e.substring(0,i),e=e.substring(i+1),i=m.instances.findItem('id',o);i?(i=i.$inputs[e])?i(t,n):n('Input "{0}" not found'.format(e)):n('Instance "{0}" not found'.format(o))},m.output=function(e){i=i||NOOP;var t=e.indexOf('_'),n=e.substring(0,t),e=e.substring(t+1),t=m.instances.findItem('id',n);t?t.output(e):i('Instance "{0}" not found'.format(n))},g.apps[g.current]=m,(d.import||EMPTYARRAY).wait(function(e,t){g.cache[e]?t():(g.cache[e]=1,'/'===e.charAt(0)&&(e=(g.origin||'')+e),IMPORT(e,t))},function(){var p=Object.keys(d.components);p.wait(function(a,c){var e=d.components[a];if('string'==typeof e)if('@'===e||'#'===e)g.components[a]?m.pending.push({name:a,fn:g.components[a],local:!0}):console.error(b,'The component "{0}" not found.'.format(a)),c();else{var l,f,u=((t=e.split(' '))[1]||'').trim(),t=t[0].trim();if(u||(u=t,t=''),'base64'===(t=t&&'.html'===t.charAt(0)?t.substring(1):t))try{var n={},i=(n.id=a,n.cls=m.class+'_'+HASH(n.id).toString(36),g.parsehtml(decodeURIComponent(atob(u))));if(i.css&&(n.css=i.css),i.readme&&(n.readme=i.readme),i.html&&(n.html=i.html.replace(v,n.cls)),i.settings&&(n.settings=i.settings.replace(v,n.cls)),new Function('exports',i.js.replace(v,n.cls))(n),n.components)for(var o in n.components)d.components[o]||(d.components[o]=n.components[o],p.push(o));m.pending.push({name:a,fn:n})}finally{c()}else t&&'html'!==t||((l='@'===u.charAt(0))&&(u=u.substring(1)),f=(u=g.editor&&'/'===u.charAt(0)?(g.origin||'')+u:u).format(a),AJAX('GET '+f+(g.cachecomponents?' <{0}>'.format(1==g.cachecomponents?'session':g.cachecomponents):''),function(e,t){if(t)console.error(b,f,t),c();else if(ERROR(e))console.error(b,f,e),c();else if(e)if('object'==typeof e){var n=y(f);for(r in e){var i=e[r];'/'===i.charAt(0)&&(i=n+i),d.components[r]||(d.components[r]='@'+i,p.push(r))}c()}else{t=g.parsehtml(e);try{var o={};if(o.id=a,o.isexternal=l,o.cls=m.class+'_'+HASH(o.id).toString(36),t.css&&(o.css=t.css),t.readme&&(o.readme=t.readme),t.html&&(o.html=t.html.replace(v,o.cls)),t.settings&&(o.settings=t.settings.replace(v,o.cls)),new Function('exports',t.js.replace(v,o.cls))(o),o.components)for(var r in o.components)d.components[r]||(d.components[r]=o.components[r],p.push(r));var s=u.indexOf('/',10);-1!==s&&(o.origin=u.substring(0,s),g.origin!==o.origin)&&(o.render&&'/'===o.render.charAt(0)&&(o.render=o.origin+o.render),o.settings)&&'/'===o.settings.charAt(0)&&(o.settings=o.origin+o.settings),'auto'===o.render&&(o.render=f.replace('editor.html','render.html')),'auto'===o.settings&&(o.settings=f.replace('editor.html','settings.html')),m.pending.push({name:a,fn:o})}finally{c()}}else console.error(b,f,'empty file'),c()}))}else m.pending.push({name:a,fn:e}),c()},function(){m.pending.splice(0).wait(function(e,t){var n=null;'function'==typeof e.fn?((n={}).id=e.name,n.cls=(e.local?'uibuilder':m.class)+'_'+HASH(n.id).toString(36),e.fn(n)):n=e.fn,m.components[e.name]=n,!e.local&&(n.css&&o.push(n.css.replace(v,n.cls)),n.import instanceof Array)?n.import.wait(function(e,t){g.cache[e]?t():(g.cache[e]=1,'/'===e.charAt(0)&&(e=(g.origin||'')+e),IMPORT(e,t))},t):t()},function(){d.css&&o.unshift(d.css.replace(v,m.class)),CSS(o,m.class);for(var e,t=0;t<d.children.length;t++)for(e of d.children[t])e.protected=!0,m.compile(a,e,t);m.callback=i})},1)}),m;WARN('Invalid UI Builder metadata:',d.id)}},g.parsehtml=function(e){var t,n,i,o,r,s,a='';return-1===e.indexOf('<script>')?{js:e}:(n=s=a=t=o='',-1!==(i=e.indexOf('<settings>'))&&(r=e.indexOf('</settings>',i+10),o=e.substring(i+10,r).trim(),e=e.substring(0,i)+e.substring(r+11)),-1!==(i=e.indexOf('<style>'))&&(a=e.substring(i+7,e.indexOf('</style>',i+7))),-1!==(i=e.indexOf('<body>'))&&(n=e.substring(i+6,e.indexOf('</body>',i+6))),-1!==(i=e.indexOf('<readme>'))&&(t=e.substring(i+8,e.indexOf('</readme>',i+8))),-1!==(i=e.indexOf('<script>'))&&(r=e.indexOf('<\/script>',i+8),s=e.substring(i+8,r).trim()),{js:s,css:a,settings:o,readme:t,html:n})},g.remove=function(t){var n=g.apps[t];if(n){n.interval&&clearInterval(n.interval),n.interval=null;for(var e of n.instances){if(e.removecss)for(var i of e.removecss)CSS('',i);e.events.destroy&&e.emit('destroy')}setTimeout(function(){for(var e in n.components){e=n.components[e];e.uninstall&&e.uninstall()}n.tmp=null,CSS('',n.class),n.element.remove(),delete g.apps[t]},2)}};var d=null,T=document;function I(i,r,e){var t,n,o,s,a,c,l=(i=i instanceof jQuery?i:$(i)).closest('.UI_component')[0];!l||l.uibuilder.meta.readonly||l.uibuilder.forked||(null==(r=r||{}).format&&(r.format=!0),r.format&&null==r.icon&&(r.icon=!0),e&&(r.callback=e),d?d.element[0]!=i[0]&&(d.close(),setTimeout(I,100,i,r,e)):(r.backup=i.html(),r.html&&i.html(r.html),i.attr('contenteditable',!0),i.aclass('UI_editing'),(d={}).element=i,d.dom=i[0],d.instance=l.uibuilder,d.parent=r.parent?r.parent[0]:d.dom,r.callback||(r.callback=function(){d.instance&&d.instance.emit('html',i)}),d.createlink=function(){if(function(e){if(T.selection&&'Text'===T.selection.type)return T.selection.createRange().htmlText;if(W.getSelection){var t=W.getSelection();if(!t.rangeCount)return'';for(var n=T.createElement('div'),i=0,o=t.rangeCount;i<o;++i)n.appendChild(t.getRangeAt(i).cloneContents());return e?n:n.innerHTML}}().trim()){for(var e=d.element,t='#link'+Date.now().toString(36),n=e[0],i=0;i<5;i++){if('A'===n.tagName)return;if(!(n=n.parentNode))break}document.execCommand('CreateLink',!1,t);var o,e=e.find('a[href="'+t+'"]');e.length&&(d.instance,d&&d.close(),t=e.text(),o='',e.aclass('UI_link'),r.cms&&e.aclass('CMS_edit CMS_remove'),-1!==t.indexOf('@')?o='mailto:'+t:/\d+/.test(t)?o='tel:'+t:-1===t.indexOf(' ')&&-1===t.indexOf(',')&&-1!==t.indexOf('.')&&(o=/http(s):\/\//.test(t)?t:'https://'+t),t=-1!==o.indexOf('.')&&-1===o.indexOf(location.hostname)?'_blank':'',e.attr('href',o||'#'),e.attr('target',t),g.emit('link',e))}},t=function(){d.close()},n=function(e){e.target===d.parent||d.parent.contains(e.target)||d.close()},o=function(e){e.preventDefault();e=(e.originalEvent||e).clipboardData.getData('text/plain');document.execCommand('insertHTML',!1,e)},s=function(e){if(r.keydown&&r.keydown(e),27===e.keyCode)e.preventDefault(),e.stopPropagation(),d.key=27,d.close();else if(r.backslashremove&&8===e.keyCode&&!i.text().trim())d.key=8,d.close();else if(13===e.keyCode)r.multiline&&!e.shiftKey||(e.preventDefault(),e.stopPropagation(),d.key=13,d.close());else{if(9===e.keyCode)return r.tabs?(e.preventDefault(),void document.execCommand('insertHTML',!1,'&#009')):(r.endwithtab?(e.preventDefault(),d.key=9):(e.preventDefault(),e.stopPropagation()),void d.close());var t,n;d.change=!0,(e.metaKey||e.ctrlKey)&&(66===e.keyCode?r.format&&!1!==r.bold||(e.preventDefault(),e.stopPropagation()):76===e.keyCode?(e.preventDefault(),e.stopPropagation(),r.format&&!1!==r.link&&d.createlink()):73===e.keyCode?r.format&&!1!==r.italic||(e.preventDefault(),e.stopPropagation()):80===e.keyCode?(r.format&&!0===r.icon&&(t=i[0].nodeName.toLowerCase(),n='<i class="ti ti-totaljs UI_icon'+(r.cms?' CMS_edit CMS_remove':'')+'" contenteditable="false"></i>','span'===t?i.parent().prepend(n):document.execCommand('insertHTML',!1,n)),e.preventDefault(),e.stopPropagation()):85===e.keyCode?r.format&&!1!==r.underline||(e.preventDefault(),e.stopPropagation()):32===e.keyCode&&(document.execCommand('insertHTML',!1,'&nbsp;'),e.preventDefault(),e.stopPropagation()))}},i.focus(),'end'===r.cursor&&((e=document.createRange()).selectNodeContents(i[0]),e.collapse(!1),(l=W.getSelection()).removeAllRanges(),l.addRange(e)),d.close=function(){var e;$(W).off('click',n),i.rattr('contenteditable'),i.off('keydown',s),i.off('contextmenu',t),i.off('paste',o),i.rclass('UI_editing'),r.callback&&((e={}).text=i.text().trim(),e.html=i.html(),e.change=d.change,e.element=d.element,e.dom=d.dom,e.backup=r.backup,e.key=d.key,e.param=r.param,e.instance=d.instance,r.callback(e)),d.timeout&&clearTimeout(d.timeout),d=null},a=r.placeholder,c=!1,d.checkplaceholder=function(){var e;a&&(e=0<i[0].innerHTML.length,c!==e)&&(c=e,a.classList.toggle('hidden',e))},$(W).on('click',n),i.on('keydown',s),i.on('contextmenu',t),r.placeholder&&a&&i.on('input',d.checkplaceholder),i.on('paste',o)))}function O(e,u){var t,p=this,d='function'==typeof e?e:null,n=(e=d?null:e)||p.element.find('> '+g.selectors.component),i=[],m=[],h={};for(t of n){var o={children:[]};i.push(o),!function e(t,n){var i,o,r,s=n.uibuilder;if(t.id=n.getAttribute('data-id'),t.component=s.component.id,t.config=CLONE(s.config),h[s.component.id]||(i=p.schema.components[s.component.id])&&(h[s.component.id]=i),s.component.floating&&(o=(i=$(n)).position(),t.x=o.left,t.y=o.top,t.zindex=i.css('z-index')||m.length,t.zindex=+t.zindex,t.zindex<=0)&&(t.zindex=1),!d||d(t)){if(m.push(s),n.classList.contains('UI_gap')&&(t.gap=!0),s.children=[],!s.component.children)for(r of k(p,t.id)){var a,c=[],l=r.element.find('> '+g.selectors.component);t.children||(t.children=[]),t.children.push(c);for(a of l){var f={children:[]};c.push(f),s.children.push(a.uibuilder),e(f,a)}}s.events.stringify&&s.emit('stringify',t,u)}}(o,t)}i=e?i[0]:[i];return{instances:m,children:i,components:h}}g.edit=I}(W.UIBuilder={});</script>

	<script>
		COMPONENT('viewbox','margin:0;scroll:true;delay:100;resizedelay:200;initdelay:250;scrollbar:1;visibleY:1;height:100;invisible:1',function(self,config,cls){var eld,elb,scrollbar,cls2='.'+cls,init=false,cache,scrolltoforce;self.readonly();self.init=function(){var resize=function(){setTimeout2(self.name,function(){for(var m of M.components){if(m.name==='viewbox'&&!HIDDEN(m.dom)&&(m.ready||(m.$ready&&!m.$removed)))m.resize()}},200)};self.on('resize2',resize)};self.destroy=function(){scrollbar&&scrollbar.destroy()};self.configure=function(key,value,init){switch(key){case'disabled':eld.tclass('hidden',!value);break;case'minheight':case'margin':case'marginxs':case'marginsm':case'marginmd':case'marginlg':!init&&self.resizeforce();break;case'selector':config.parent=value;self.resize();break}};self.scrollbottom=function(val){if(val==null)return elb[0].scrollTop;elb[0].scrollTop=(elb[0].scrollHeight-self.dom.clientHeight)-(val||0);return elb[0].scrollTop};self.scrolltop=function(val){if(val==null)return elb[0].scrollTop;elb[0].scrollTop=(val||0);return elb[0].scrollTop};self.make=function(){var centered='';if(config.centered)centered='<div><div class="{0}-centered-table"><div class="{0}-centered-cell"></div></div></div>'.format(cls);config.invisible&&self.aclass('invisible');config.scroll&&MAIN.version>17&&self.element.wrapInner('<div class="'+cls+'-body">'+centered+'</div>');self.element.prepend('<div class="'+cls+'-disabled hidden"></div>');eld=self.find('> .{0}-disabled'.format(cls)).eq(0);elb=self.find('> .{0}-body'.format(cls)).eq(0);self.aclass('{0} {0}-hidden'.format(cls));if(config.scroll){if(config.scrollbar){if(MAIN.version>17){var scrolledcache=null,scrolled=function(scrollbar){if(config.togglescrolled){if(!scrolledcache)scrolledcache=self.parent(config.togglescrolled);scrolledcache&&scrolledcache.tclass(cls+'-scrolled',scrollbar.scrollTop()>0)}};scrollbar=W.SCROLLBAR(self.find(cls2+'-body'),{shadow:config.scrollbarshadow,visibleY:config.visibleY,visibleX:config.visibleX,orientation:config.visibleX?null:'y',parent:self.element,onscroll:scrolled});self.scrollbar=scrollbar;self.scrolltop=scrollbar.scrollTop;self.scrollbottom=scrollbar.scrollBottom}else self.aclass(cls+'-scroll')}else{self.aclass(cls+'-scroll');if(M.version<19)self.find(cls2+'-body').aclass('noscrollbar')}}self.resize()};self.released=function(is){!is&&self.resize()};var css={};self.resize=function(){setTimeout2(self.ID,self.resizeforce,config.resizedelay)};self.resizeforce=function(){var el=self.parent(config.parent);var h=el.height();var w=el.width();var width=WIDTH();var mywidth=self.element.width();var key=width+'x'+mywidth+'x'+w+'x'+h+'x'+config.margin;if(cache===key){scrollbar&&scrollbar.resize();if(scrolltoforce){if(scrolltoforce==='bottom')self.scrollbottom(0);else self.scrolltop(0);scrolltoforce=null}return}cache=key;var margin=config.margin,responsivemargin=config['margin'+width];if(responsivemargin!=null)margin=responsivemargin;if(margin==='auto')margin=self.element.offset().top;if(h===0||w===0){self.$waiting&&clearTimeout(self.$waiting);self.$waiting=setTimeout(self.resize,234);return}h=((h/100)*config.height)-margin;if(config.minheight&&h<config.minheight)h=config.minheight;if(config.centered)elb.find(cls2+'-centered-table').css('min-height',h);css.height=h;css.width=mywidth;eld.css(css);css.width='';self.css(css);elb.length&&elb.css(css);self.element.SETTER('*/resize');var c=cls+'-hidden';self.hclass(c)&&self.rclass(c,100);scrollbar&&scrollbar.resize();if(scrolltoforce){if(scrolltoforce==='bottom')self.scrollbottom(0);else self.scrolltop(0);scrolltoforce=null}if(!init){self.rclass('invisible',config.initdelay);init=true}};self.resizescrollbar=function(){scrollbar&&scrollbar.resize()};self.setter=function(){scrolltoforce=config.scrollto||config.scrolltop;if(scrolltoforce){if(scrolltoforce==='bottom')self.scrollbottom(0);else self.scrolltop(0);scrolltoforce=null}setTimeout(self.resize,config.delay,scrolltoforce)}});
		COMPONENT('colorpicker',function(self,config,cls){var cls2='.'+cls,is=false,events={},colors=[['','E73323','EC8632','FFFD54','68B25B','7CFBFD','4285F4','E73CF7','E8357E','73197B','91683C','808080'],['FFFFFF','E8E8E8','D1D1D1','B9B9B9','A2A2A2','8B8B8B','747474','5D5D5D','464646','2E2E2E','171717','000000'],['5C0E07','5E350F','66651C','41641A','2D6419','2D6438','2D6465','133363','000662','2D0962','5C1262','5C0F32','8A1A11','8E501B','99982F','62962B','47962A','479654','479798','214D94','010E93','451393','8A2094','8A1C4C','B9261A','BD6B27','CCCB41','83C83C','61C83B','61C871','62C9CA','2E67C5','0216C4','5C1DC4','B92EC5','B92865','E73323','EC8632','FFFD54','A4FB4E','7BFA4C','7BFA8D','7CFBFD','3B80F7','041EF5','7327F5','E73CF7','E7357F','E8483F','EF9D4B','FFFE61','B4FB5C','83FA5A','83FAA2','83FBFD','5599F8','343CF5','8C42F6','E84FF7','E84A97','EA706B','F2B573','FFFE7E','C5FC7C','96FA7A','96FBB9','96FCFD','7BB2F9','666AF6','A76EF7','EB73F8','EA71B0','F6CECD','FAE6CF','FFFED1','EBFED1','D7FDD0','D7FDE7','D8FEFE','D1E5FD','CCCDFB','E1CEFB','F6CFFC','F6CEE4']];self.singleton();self.readonly();self.blind();self.nocompile();self.make=function(){var html='';for(var i=0;i<colors.length;i++){html+='<div>';for(var j=0;j<colors[i].length;j++){var color=colors[i][j];html+='<span class="{0}-cell" data-color="{2}"><span style="{1}">{3}</span></span>'.format(cls,color?('background-color:#'+color):'',color,color?'':'<i class="ti ti-ban"></i>')}html+='</div>'}self.html('<div class="{0}"><div class="{0}-body">{1}</div></div>'.format(cls,html));self.aclass(cls+'-container hidden');self.event('click',cls2+'-cell',function(){var el=$(this);var color=el.find('span').attr('style').replace('background-color:','');self.opt.callback&&self.opt.callback(color?self.opt.opacity?self.hex2rgba(color,self.opt.opacity):color:'');self.hide()});events.click=function(e){var el=e.target,parent=self.dom;do{if(el==parent)return;el=el.parentNode}while(el);self.hide()};self.on('scroll + reflow + resize + resize2',self.hide)};self.hex2rgba=function(hex,opacity){var c=(hex.charAt(0)==='#'?hex.substring(1):hex).split('');if(c.length===3)c=[c[0],c[0],c[1],c[1],c[2],c[2]];var a=c.splice(6);if(a.length)a=parseFloat(parseInt((parseInt(a.join(''),16)/255)*1000)/1000);else a=opacity||'1';c='0x'+c.join('');return'rgba('+[(c>>16)&255,(c>>8)&255,c&255].join(',')+','+a+')'};self.bindevents=function(){if(!events.is){events.is=true;$(document).on('click',events.click)}};self.unbindevents=function(){if(events.is){events.is=false;$(document).off('click',events.click)}};self.show=function(opt){var tmp=opt.element?opt.element instanceof jQuery?opt.element[0]:opt.element.element?opt.element.dom:opt.element:null;if(is&&tmp&&self.target===tmp){self.hide();return}events.is&&self.unbindevents();self.target=tmp;self.opt=opt;var css={};if(is){css.left=0;css.top=0;self.element.css(css)}else self.rclass('hidden');var target=$(opt.element);var w=self.element.width();var offset=target.offset();if(opt.element){switch(opt.align){case'center':css.left=Math.ceil((offset.left-w/2)+(target.innerWidth()/2));break;case'right':css.left=(offset.left-w)+target.innerWidth();break;default:css.left=offset.left;break}css.top=opt.position==='bottom'?(offset.top-self.element.height()-10):(offset.top+target.innerHeight()+10)}else{css.left=opt.x;css.top=opt.y}if(opt.offsetX)css.left+=opt.offsetX;if(opt.offsetY)css.top+=opt.offsetY;is=true;if($(W).scrollTop()===0){if(css.top+self.element.height()>W.innerHeight)css.top=W.innerHeight-self.element.height()-20}self.element.css(css);setTimeout(self.bindevents,10)};self.hide=function(){if(is){is=false;self.target=null;self.opt=null;setTimeout(self.unbindevents,50);self.aclass('hidden')}}});
		COMPONENT('datepicker','today:Set today;clear:Clear;firstday:-1',function(self,config,cls){var cls2='.'+cls,skip=false,visible=false,current,elyears,elmonths,elbody,main;self.days=EMPTYARRAY;self.days_short=EMPTYARRAY;self.months=EMPTYARRAY;self.months_short=EMPTYARRAY;self.years_from;self.years_to;self.singleton();self.readonly();self.nocompile();self.configure=function(key,value){switch(key){case'days':if(value instanceof Array)self.days=value;else self.days=value.split(',').trim();self.days_short=[];for(var i=0;i<DAYS.length;i++){DAYS[i]=self.days[i];self.days_short[i]=DAYS[i].substring(0,2).toUpperCase()}break;case'months':if(value instanceof Array)self.months=value;else self.months=value.split(',').trim();self.months_short=[];for(var i=0,length=self.months.length;i<length;i++){var m=self.months[i];MONTHS[i]=m;if(m.length>4)m=m.substring(0,3)+'.';self.months_short.push(m)}break;case'yearfrom':if(value.indexOf('current')!==-1)self.years_from=+(NOW.format('yyyy'));else self.years_from=+(NOW.add(value).format('yyyy'));break;case'yearto':if(value.indexOf('current')!==-1)self.years_to=+(NOW.format('yyyy'));else self.years_to=+(NOW.add(value).format('yyyy'));break}};function getMonthDays(dt){var m=dt.getMonth();var y=dt.getFullYear();if(m===-1){m=11;y--}return(32-new Date(y,m,32).getDate())}self.calculate=function(year,month,selected){var d=new Date(year,month,1,12,0);var output={header:[],days:[],month:month,year:year},firstday=config.firstday===-1?DEF.firstdayofweek:config.firstday,firstcount=0,frm=d.getDay()-firstday;var today=NOW,ty=today.getFullYear();var tm=today.getMonth();var td=today.getDate();var sy=selected?selected.getFullYear():-1;var sm=selected?selected.getMonth():-1;var sd=selected?selected.getDate():-1;var days=getMonthDays(d);if(frm<0)frm=7+frm;while(firstcount++<7){output.header.push({index:firstday,name:self.days_short[firstday]});firstday++;if(firstday>6)firstday=0}var index=0,indexEmpty=0,count=0,prev=getMonthDays(new Date(year,month-1,1,12,0))-frm;var cur;for(var i=0;i<days+frm;i++){var obj={today:false,selected:false,empty:false,future:false,number:0,index:++count};if(i>=frm){obj.number=++index;obj.selected=sy===year&&sm===month&&sd===index;obj.today=ty===year&&tm===month&&td===index;obj.future=ty<year;if(!obj.future&&year===ty){if(tm<month)obj.future=true;else if(tm===month)obj.future=td<index}}else{indexEmpty++;obj.number=prev+indexEmpty;obj.empty=true;cur=d.add('-'+indexEmpty+' days')}if(!obj.empty)cur=d.add(i+' days');obj.month=i>=frm&&obj.number<=days?d.getMonth():cur.getMonth();obj.year=i>=frm&&obj.number<=days?d.getFullYear():cur.getFullYear();obj.date=cur;output.days.push(obj)}indexEmpty=0;for(var i=count;i<42;i++){var cur=d.add(i+' days');var obj={today:false,selected:false,empty:true,future:true,number:++indexEmpty,index:++count};obj.month=cur.getMonth();obj.year=cur.getFullYear();obj.date=cur;output.days.push(obj)}return output};self.hide=function(){if(visible){self.unbindevents();self.opt.close&&self.opt.close();self.opt=null;self.older=null;self.target=null;self.aclass('hidden');self.rclass(cls+'-visible');visible=false}return self};self.show=function(opt){setTimeout(function(){clearTimeout2('datepickerhide')},5);var el=$(opt.element);var dom=el[0];if(self.target===dom){self.hide();return}if(self.opt&&self.opt.close)self.opt.close();var off=el.offset();var w=el.innerWidth();var h=el.innerHeight();var l=0,t=0,height=305+(opt.cancel?25:0);var s=250;if(opt.element){switch(opt.align){case'center':l=Math.ceil((off.left-s/2)+(w/2));break;case'right':l=(off.left+w)-s;break;default:l=off.left;break}t=opt.position==='bottom'?(off.top-height):(off.top+h+12)}if(opt.offsetX)l+=opt.offsetX;if(opt.offsetY)t+=opt.offsetY;if((l+s)>WW)l=(l+w)-s;if($(W).scrollTop()===0){if((t+height)>WH)t=WH-height-10}var restrict=true,parent=dom.parentNode;while(parent){if(parent.tagName==='BODY'){restrict=false;break}if(parent.classList.contains('ui-scrollbar-area'))break;parent=parent.parentNode}if(restrict&&(t+height)>WH)t=(t+h)-height;var dt=typeof(opt.value)==='string'?GET(opt.value):opt.value;if((!(dt instanceof Date))||isNaN(dt.getTime()))dt=NOW;opt.scope=M.scope?M.scope():'';self.opt=opt;self.time=dt.format('HH:mm:ss');self.rclass('hidden');self.date(dt);main.css({left:l,top:t});main.aclass(cls+'-visible',50);self.bindevents();self.target=dom;visible=true};self.setdate=function(dt){if(!dt){if(typeof(self.opt.value)==='string')SET(self.opt.value+' @change',dt);else self.opt.callback(dt);return}var time=self.time.split(':');if(time.length>1){dt.setHours(+(time[0]||'0'));dt.setMinutes(+(time[1]||'0'));dt.setSeconds(+(time[2]||'0'))}self.opt.scope&&M.scope(self.opt.scope);if(typeof(self.opt.value)==='string')SET(self.opt.value+' @change',dt);else self.opt.callback(dt)};self.make=function(){self.aclass(cls+'-container hidden');var conf={},reconfigure=false;if(!config.days){conf.days=[];for(var i=0;i<DAYS.length;i++)conf.days.push(DAYS[i]);reconfigure=true}if(!config.months){conf.months=MONTHS;reconfigure=true}reconfigure&&self.reconfigure(conf);W.$datepicker=self;self.event('click',function(e){e.stopPropagation()});var hide=function(){visible&&W.$datepicker&&W.$datepicker.hide()};var hide2=function(){visible&&setTimeout2('datepickerhide',function(){W.$datepicker&&W.$datepicker.hide()},20)};self.bindevents=function(){if(!visible)$(W).on('scroll',hide2)};self.unbindevents=function(){if(visible)$(W).off('scroll',hide2)};self.element.on('click',function(e){if(e.target===self.dom)hide()});self.on('reflow + scroll + resize + resize2',hide)};self.makehtml=function(){var builder=[];builder.push('<div class="{0}-header"><span class="{0}-next"><i class="ti ti-angle-right"></i></span><span class="{0}-prev"><i class="ti ti-angle-left"></i></span><div class="{0}-info"><span class="{0}-month">---</span><span class="{0}-year">---</span></div></div><div class="{0}-years hidden"></div><div class="{0}-months"></div><div class="{0}-body hidden"><div class="{0}-week">'.format(cls));for(var i=0;i<7;i++)builder.push('<div></div>');builder.push('</div><div class="{0}-days">'.format(cls));var clearbtn=self.opt.clear===false?null:'<span>{1}</span>'.format(cls,config.clear);for(var i=0;i<42;i++)builder.push('<div class="{0}-date"><div></div></div>'.format(cls,i));builder.push('</div></div><div class="{0}-footer"><span class="{0}-now">{2}</span><span class="{0}-clear">{3}</span></div>'.format(cls,config.close,config.today,clearbtn));self.html('<div class="{0}">{1}</div>'.format(cls,builder.join('')));main=$(self.find(cls2)[0]);builder=[];elbody=self.find(cls2+'-body');elmonths=self.find(cls2+'-months');for(var i=0;i<12;i++)builder.push('<div class="{0}-month" data-index="{1}"><div></div></div>'.format(cls,i));elmonths.html(builder.join(''));builder=[];elyears=self.find(cls2+'-years');for(var i=0;i<25;i++)builder.push('<div class="{0}-year"><div></div></div>'.format(cls));elyears.html(builder.join(''));self.makehtml=null;self.find(cls2+'-month').on('click',function(e){var el=$(this);var index=el.attrd('index');var h='hidden';if(index){current.setMonth(+index);self.date(current,true)}else if(!elmonths.hclass(h))index=1;elyears.aclass(h);if(index)elmonths.aclass(h);else{elmonths.find(cls2+'-today').rclass(cls+'-today');elmonths.find(cls2+'-month').eq(current.getMonth()).aclass(cls+'-today');elmonths.rclass(h)}elbody.tclass(h,!elmonths.hclass(h));e.preventDefault();e.stopPropagation()});self.find(cls2+'-year').on('click',function(e){var el=$(this);var year=el.attrd('year');var h='hidden';if(year){current.setFullYear(+year);self.date(current,true)}else if(!elyears.hclass(h))year=1;elmonths.aclass(h);if(year)elyears.aclass(h);else{self.years();elyears.rclass(h)}elbody.tclass(h,!elyears.hclass(h));e.preventDefault();e.stopPropagation()});self.years=function(){var dom=self.find(cls2+'-years').find(cls2+'-year');var year=current.getFullYear();var index=12;for(var i=0;i<25;i++){var val=year-(index--);$(dom[i]).tclass(cls+'-today',val===year).attrd('year',val).find('div')[0].innerHTML=val}};self.find(cls2+'-date').on('click',function(){var dt=$(this).attrd('date').split('-');self.setdate(new Date(+dt[0],+dt[1],+dt[2],12,0,0));self.hide()});self.find(cls2+'-now').on('click',function(){current=new Date();self.date(current,true)});self.find(cls2+'-clear').on('click',function(){self.setdate(null);self.hide()});self.find(cls2+'-next').on('click',function(e){if(elyears.hclass('hidden')){current.setMonth(current.getMonth()+1);self.date(current,true)}else{current.setFullYear(current.getFullYear()+25);self.years()}e.preventDefault();e.stopPropagation()});self.find(cls2+'-prev').on('click',function(e){if(elyears.hclass('hidden')){current.setMonth(current.getMonth()-1);self.date(current,true)}else{current.setFullYear(current.getFullYear()-25);self.years()}e.preventDefault();e.stopPropagation()})};self.date=function(value,skipday){var clssel=cls+'-selected';self.makehtml&&self.makehtml();if(typeof(value)==='string')value=value.parseDate();var year=value==null?null:value.getFullYear();if(year&&(year<self.years_from||year>self.years_to))return;if(!value||isNaN(value.getTime())){self.find('.'+clssel).rclass(clssel);value=NOW}var empty=!value;if(skipday){skipday=false;empty=true}if(skip){skip=false;return}value=new Date((value||NOW).getTime());var output=self.calculate(value.getFullYear(),value.getMonth(),value);var dom=self.find(cls2+'-date');self.find(cls2+'-body').rclass('hidden');self.find(cls2+'-months,'+cls2+'-years').aclass('hidden');current=value;for(var i=0;i<42;i++){var item=output.days[i],classes=[cls+'-date'];if(item.empty)classes.push(cls+'-disabled');if(!empty&&item.selected)classes.push(cls+'-selected');if(item.today)classes.push(cls+'-day-today');var el=$(dom[i]);el.attrd('date',item.year+'-'+item.month+'-'+item.number);el.find('div').html(item.number);el.find('i').remove();el.rclass().aclass(classes.join(' '))}if(!skipday){dom=self.find(cls2+'-week').find('div');for(var i=0;i<7;i++)dom[i].innerHTML=output.header[i].name;dom=self.find(cls2+'-months').find(cls2+'-month');for(var i=0;i<12;i++)$(dom[i]).find('div').attrd('index',i)[0].innerHTML=self.months_short[i]}self.opt.badges&&self.opt.badges(current,function(date){if(!(date instanceof Array))date=[date];for(var i=0;i<date.length;i++){var dt=date[i].getFullYear()+'-'+date[i].getMonth()+'-'+date[i].getDate();var el=self.find(cls2+'-date[data-date="{0}"]'.format(dt));if(el.length&&!el.find('i').length)el.append('<i class="ti ti-circle-alt"></i>')}});var info=self.find(cls2+'-info');info.find(cls2+'-month').html(self.months[current.getMonth()]);info.find(cls2+'-year').html(current.getFullYear())}});
		COMPONENT('icons','search:Search;scrollbarshadow:0',function(self,config,cls){var cls2='.'+cls,template='<span data-search="{0}"><i class="{1}"></i></span>',events={},container,content,is=false,cachekey;self.singleton();self.readonly();self.blind();self.nocompile();self.redraw=function(){container.html('<div class="{0}"><div class="{0}-header"><div class="{0}-search"><span><i class="ti ti-search clearsearch"></i></span><div><input type="text" placeholder="{1}" class="{0}-search-input"></div></div></div><div class="{0}-scrollbar"><div class="{0}-content"></div></div></div>'.format(cls,config.search));content=container.find(cls2+'-content');self.scrollbar=SCROLLBAR(container.find(cls2+'-scrollbar'),{visibleY:1,shadow:config.scrollbarshadow})};self.rendericons=function(empty){var key=empty?'1':'0';if(cachekey===key)return;cachekey=key;var builder=[];empty&&builder.push(template.format('',''));AJAX('GET '+(config.list||'https://cdn.componentator.com/icons-db.html'),function(response){response=response.split(',');for(var icon of response)builder.push(template.format(icon.toSearch(),'ti ti-'+icon));if(config.custom){AJAX('GET '+config.custom,function(response){response=response.split(',');for(var icon of response)builder.push(template.format(icon.toSearch(),'tic ti-'+icon));container.find(cls2+'-content').html(builder.join(''))})}else container.find(cls2+'-content').html(builder.join(''))})};self.search=function(value){var search=container.find('.clearsearch');search.rclass2('ti-');if(!value.length){search.aclass('ti-search');content.find('.hidden').rclass('hidden');return}value=value.toSearch();search.aclass('ti-times');self.scrollbar.scrollTop(0);var icons=content.find('span');for(var i=0;i<icons.length;i++){var el=$(icons[i]);el.tclass('hidden',el.attrd('search').indexOf(value)===-1)}};self.make=function(){self.aclass(cls+'-area hidden');self.append('<div class="{0}-container"></div>'.format(cls));container=self.find(cls2+'-container');self.event('keydown','input',function(){var t=this;setTimeout2(self.ID,function(){self.search(t.value)},300)});self.element.on('click',function(e){if(e.target===self.dom)self.hide()});self.event('click','.ti-times',function(){self.find('input').val('');self.search('')});self.event('click',cls2+'-content span',function(){self.opt.scope&&M.scope(self.opt.scope);self.opt.callback&&self.opt.callback($(this).find('i').attr('class'));self.hide()});events.click=function(e){var el=e.target,parent=self.dom;do{if(el==parent)return;el=el.parentNode}while(el);self.hide()};self.on('reflow + resize + resize2',self.hide);self.on('scroll',function(e){if(e&&e[0]!==self.scrollbar.area[0])self.hide()});self.redraw()};self.bindevents=function(){if(!events.is){events.is=true;$(document).on('click',events.click)}};self.unbindevents=function(){if(events.is){events.is=false;$(document).off('click',events.click)}};self.show=function(opt){var tmp=opt.element?opt.element instanceof jQuery?opt.element[0]:opt.element.element?opt.element.dom:opt.element:null;if(is&&tmp&&self.target===tmp){self.hide();return}var search=container.find(cls2+'-search-input');search.val('');container.find('.clearsearch').rclass2('ti-').aclass('ti-search');if(M.scope)opt.scope=M.scope();self.target=tmp;self.opt=opt;var css={};if(is){css.left=0;css.top=0;container.css(css)}else self.rclass('hidden');var target=$(opt.element);var w=container.width();var offset=target.offset();if(opt.element){switch(opt.align){case'center':css.left=Math.ceil((offset.left-w/2)+(target.innerWidth()/2));break;case'right':css.left=(offset.left-w)+target.innerWidth();break;default:css.left=offset.left;break}css.top=opt.position==='bottom'?(offset.top-self.element.height()-10):(offset.top+target.innerHeight()+10)}else{css.left=opt.x;css.top=opt.y}if(opt.offsetX)css.left+=opt.offsetX;if(opt.offsetY)css.top+=opt.offsetY;is=true;self.rendericons(opt.empty);container.css(css);if(opt.scrolltop==null||opt.scrolltop)self.scrollbar.scrollTop(0);search.focus();setTimeout(self.bindevents,50);clearTimeout2(self.ID)};self.clear=function(){content.empty();cachekey=null};self.hide=function(){is=false;self.target=null;self.opt=null;self.unbindevents();self.aclass('hidden');content.find('.hidden').rclass('hidden');setTimeout2(self.ID,self.clear,1000*10)}});
		COMPONENT('locale',function(self,config){self.singleton();self.readonly();self.nocompile&&self.nocompile();self.use=function(language){if(!language)return;var fdw=0;var nf=1;var tf=24;var df='';switch(language){case'af':nf=2;df='dd/MM/yyyy';tf=24;fdw=0;break;case'sq':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'ar':nf=4;df='yyyy/MM/dd';tf=24;fdw=6;break;case'ar-dz':nf=3;df='dd/yyyy/MM';tf=24;fdw=1;break;case'ar-kw':nf=4;df='dd/MM/yyyy';tf=24;fdw=6;break;case'ar-ly':nf=3;df='dd/yyyy/MM';tf=24;fdw=6;break;case'ar-ma':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'ar-sa':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'ar-tn':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'hy-am':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'az':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'bm':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'be':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'bn':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'bn-bd':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'bs':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'br':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'bg':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'my':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'km':nf=3;df='dd/MM/yyyy';tf=24;fdw=0;break;case'ca':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'tzm':nf=3;df='dd/MM/yyyy';tf=24;fdw=6;break;case'tzm-latn':nf=3;df='dd/MM/yyyy';tf=24;fdw=6;break;case'zh-cn':nf=4;df='yyyy/MM/dd';tf=24;fdw=0;break;case'zh-hk':nf=4;df='yyyy/MM/dd';tf=24;fdw=0;break;case'zh-mo':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'zh-tw':nf=4;df='yyyy/MM/dd';tf=24;fdw=0;break;case'cv':nf=2;df='dd-MM-yyyy';tf=24;fdw=1;break;case'hr':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'cs':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'da':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'nl':nf=3;df='dd-MM-yyyy';tf=24;fdw=1;break;case'nl-be':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'en-au':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'en-ca':nf=4;df='yyyy-MM-dd';tf=12;fdw=0;break;case'en-in':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'en-ie':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'en-il':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'en-nz':nf=4;df='dd/MM/yyyy';tf=12;fdw=1;break;case'en-sg':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'en-gb':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'en':nf=4;df='MM/dd/yyyy';tf=12;fdw=0;break;case'us':nf=4;df='MM-dd-yyyy';tf=12;fdw=0;language='en';break;case'eo':nf=2;df='yyyy-MM-dd';tf=24;fdw=1;break;case'et':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'fo':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'fil':nf=4;df='MM/dd/yyyy';tf=24;fdw=0;break;case'fi':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'fr':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'fr-ca':nf=4;df='yyyy-MM-dd';tf=24;fdw=0;break;case'fr-ch':nf=1;df='dd.MM.yyyy';tf=24;fdw=1;break;case'fy':nf=3;df='dd-MM-yyyy';tf=24;fdw=1;break;case'gl':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'ka':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'de':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'de-at':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'de-ch':nf=1;df='dd.MM.yyyy';tf=24;fdw=1;break;case'el':nf=3;df='dd/MM/yyyy';tf=12;fdw=1;break;case'gu':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'he':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'hi':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'hu':nf=2;df='yyyy.MM.dd';tf=24;fdw=1;break;case'is':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'id':nf=3;df='dd/MM/yyyy';tf=24;fdw=0;break;case'ga':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'it':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'it-ch':nf=1;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ja':nf=4;df='yyyy/MM/dd';tf=24;fdw=0;break;case'jv':nf=3;df='dd/MM/yyyy';tf=24;fdw=0;break;case'kn':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'kk':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'tlh':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'gom-deva':nf=4;df='dd-MM-yyyy';tf=12;fdw=0;break;case'gom-latn':nf=4;df='dd-MM-yyyy';tf=12;fdw=0;break;case'ko':nf=4;df='yyyy.MM.dd';tf=12;fdw=0;break;case'ku':nf=4;df='dd/MM/yyyy';tf=24;fdw=6;break;case'ky':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'lo':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'lv':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'lt':nf=2;df='yyyy-MM-dd';tf=24;fdw=1;break;case'lb':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'mk':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ms-my':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'ms':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'ml':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'dv':nf=4;df='dd/MM/yyyy';tf=24;fdw=5;break;case'mt':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'mi':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'mr':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'mn':nf=4;df='yyyy-MM-dd';tf=24;fdw=1;break;case'me':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ne':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'se':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'nb':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'nn':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'oc-lnc':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'fa':nf=4;df='dd/MM/yyyy';tf=24;fdw=6;break;case'pl':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'pt':nf=2;df='dd/MM/yyyy';tf=24;fdw=0;break;case'pt-br':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'x-pseudo':nf=2;df='dd/MM/yyyy';tf=12;fdw=1;break;case'pa-in':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'ro':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ru':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'gd':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'sr':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'sr-cyrl':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'sd':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'si':nf=4;df='yyyy/MM/dd';tf=12;fdw=1;break;case'sk':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'eu':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;language='en';break;case'sl':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'es':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'es-do':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'es-mx':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'es-us':nf=4;df='MM/dd/yyyy';tf=12;fdw=0;break;case'sw':nf=4;df='dd.MM.yyyy';tf=24;fdw=1;break;case'sv':nf=2;df='yyyy-MM-dd';tf=24;fdw=1;break;case'tl-ph':nf=4;df='MM/dd/yyyy';tf=24;fdw=0;break;case'tg':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'tzl':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ta':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'te':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'tet':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'th':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'bo':nf=4;df='dd/MM/yyyy';tf=12;fdw=0;break;case'tr':nf=3;df='dd.MM.yyyy';tf=24;fdw=1;break;case'tk':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'uk':nf=2;df='dd.MM.yyyy';tf=24;fdw=1;break;case'ur':nf=4;df='dd/MM/yyyy';tf=24;fdw=0;break;case'ug-cn':nf=4;df='yyyy-MM-dd';tf=24;fdw=0;break;case'uz':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'uz-latn':nf=2;df='dd/MM/yyyy';tf=24;fdw=1;break;case'vi':nf=3;df='dd/MM/yyyy';tf=24;fdw=1;break;case'cy':nf=4;df='dd/MM/yyyy';tf=24;fdw=1;break;case'yo':nf=4;df='dd/MM/yyyy';tf=12;fdw=1;break;case'ss':nf=4;df='dd/MM/yyyy';tf=12;fdw=1;break}if(!df)return false;if(config.requests)DEF.languagehtml=language;DEF.dateformat=df;DEF.timeformat=tf===12?'!HH:mm a':'HH:mm';DEF.firstdayofweek=fdw;DEF.decimalseparator=nf===2||nf===3?',':'.';DEF.thousandsseparator=nf===4?',':nf===3?'.':' ';ENV('ts',(tf===12?'!':'')+df+' - '+(tf===12?DEF.timeformat.substring(1):DEF.timeformat));ENV('date',DEF.dateformat);ENV('time',DEF.timeformat);CONFIG('datepicker,firstday','firstday:'+fdw);CONFIG('timepicker','ampm:'+tf===12?'true':'false');self.path&&self.set({df:df,tf:tf,fdw:fdw,nf:nf});return true};self.make=function(){if(config.language){self.use(config.language)}else{var language=navigator.language.toLowerCase();if(!self.use(language))self.use(language.split('-')[0])}}});
		COMPONENT('approve','cancel:Cancel',function(self,config,cls){var cls2='.'+cls,events={},buttons,oldcancel;self.readonly();self.singleton();self.nocompile&&self.nocompile();self.make=function(){self.aclass(cls+' hidden');self.html('<div><div class="{0}-body"><span class="{0}-close"><i class="ti ti-times"></i></span><div class="{0}-content"></div><div class="{0}-buttons"><button data-index="0"></button><button data-index="1"></button></div></div></div>'.format(cls));buttons=self.find(cls2+'-buttons').find('button');self.event('click','button',function(){self.hide(+$(this).attrd('index'))});self.event('click',cls2+'-close',function(){self.callback=null;self.hide(-1)});self.event('click',function(e){var t=e.target.tagName;if(t!=='DIV')return;var el=self.find(cls2+'-body');el.aclass(cls+'-click');setTimeout(function(){el.rclass(cls+'-click')},300)})};events.keydown=function(e){var index=e.which===13?0:e.which===27?1:null;if(index!=null){self.find('button[data-index="{0}"]'.format(index)).trigger('click');e.preventDefault();e.stopPropagation();events.unbind()}};events.bind=function(){$(W).on('keydown',events.keydown)};events.unbind=function(){$(W).off('keydown',events.keydown)};self.show=function(message,a,b,fn,cancel){clearTimeout2(self.id);if(typeof(b)==='function'){cancel=fn;fn=b;b=config.cancel}if(M.scope)self.currscope=M.scope();self.callback=fn;self.callbackcancel=typeof(cancel)==='function'?cancel:null;var icon=a.match(/[":][a-z0-9-\s]+[":]/);if(icon){var tmp=icon+'';if(tmp.indexOf(' ')==-1)tmp='ti ti-'+tmp;a=a.replace(icon,'').trim();icon='<i class="{0}"></i>'.format(tmp.replace(/"|:/g,''))}else icon='';var color=a.match(/#[0-9a-f]+/i);if(color)a=a.replace(color,'').trim();buttons.eq(0).css('background-color',color||'').html(icon+a);if(oldcancel!==b){oldcancel=b;buttons.eq(1).html(b)}self.find(cls2+'-content').html(message.replace(/\n/g,'<br />'));$('html').aclass(cls+'-noscroll');self.rclass('hidden');events.bind();self.aclass(cls+'-visible',5);document.activeElement&&document.activeElement.blur()};self.hide=function(index){if(!index){self.currscope&&M.scope(self.currscope);self.callback&&self.callback()}else if(self.callbackcancel)self.callbackcancel();self.rclass(cls+'-visible');events.unbind();setTimeout2(self.id,function(){$('html').rclass(cls+'-noscroll');self.aclass('hidden')},50)}});
		COMPONENT('clipboard',function(self,config,cls){var container;self.singleton();self.readonly();self.nocompile();self.make=function(){if(navigator.clipboard&&W.isSecureContext&&window.self===window.top){self.copy=function(value){navigator.clipboard.writeText(value).catch(err=>console.error(err));config.oncopy&&self.EXEC(config.oncopy,value)}}else{var id='clipboard'+self.id;$(document.body).append('<textarea id="{0}" class="{1}"></textarea>'.format(id,cls));container=$('#'+id);self.copy=function(value){container.val(value);container.focus();container.select();document.execCommand('copy');container.blur();config.oncopy&&self.EXEC(config.oncopy,value)}}};self.setter=function(value){value&&self.copy(value)}});
		COMPONENT('directory','minwidth:200;create:Create',function(self,config,cls){var cls2='.'+cls,container,timeout,icon,plus,skipreset=false,skipclear=false,ready=false,input=null,issearch=false,is=false,selectedindex=0,resultscount=0,templateE='{{ name | encode | ui_directory_helper}}',templateR='{{ name | raw}}',template='<li data-index="{{ $.index}}" data-search="{{ $.search}}" class="{{ $.classes}}">{{ if $.checkbox}}<span class="'+cls+'-checkbox"><i class="ti ti-check"></i></span>{{ fi}}{0}</li>',templateraw=template.format(templateR);var regstrip=/(&nbsp;|<([^>]+)>)/ig;var parentclass=null,parentclass2=null,skiphide=false,skipmouse=false,customvalue,search,main;template=template.format(templateE);Thelpers.ui_directory_helper=function(val){var t=this;return self.opt.templatecompiled?self.opt.templatecompiled(this):t.template?(typeof(t.template)==='string'?t.template.indexOf('{{')===-1?t.template:Tangular.render(t.template,this):t.render(this,val)):self.opt.render?self.opt.render(this,val):val};self.template=Tangular.compile(template);self.templateraw=Tangular.compile(templateraw);self.readonly();self.singleton();self.nocompile();self.configure=function(key,value,init){if(init)return;switch(key){case'placeholder':self.find('input').prop('placeholder',value);break}};self.make=function(){self.aclass('hidden '+cls+'-area');self.append('<div class="{1}"><div class="{1}-search"><span class="{1}-add hidden"><i class="ti ti-plus"></i></span><span class="{1}-button"><i class="ti ti-search"></i></span><div><input type="text" placeholder="{0}" class="{1}-search-input" name="dir{2}" spellcheck="false" role="combobox" aria-expanded="true" aria-invalid="false" aria-autocomplete="list" aria-expanded="true" aria-haspopup="false" autocapitalize="off" autocomplete="off" autocorrect="off" /></div></div><div class="{1}-container"><ul></ul></div></div>'.format(config.placeholder,cls,Date.now()));customvalue=$('<li data-index="-2"></li>')[0];main=self.find(cls2);container=self.find('ul');input=self.find('input');icon=self.find(cls2+'-button').find('.ti');plus=self.find(cls2+'-add');search=self.find(cls2+'-search');self.event('mouseenter mouseleave','li',function(){if(ready&&!issearch&&!skipmouse){container.find('li.current').rclass('current');$(this).aclass('current');var arr=container.find('li:visible');for(var i=0;i<arr.length;i++){if($(arr[i]).hclass('current')){selectedindex=i;break}}}});self.element.on('click',function(e){if(e.target===self.dom)self.hide(1)});var skiphidedelay,skipmousedelay,skipmousefalse=function(){skipmousedelay=null;skipmouse=false};var skipmouseforce=function(){skipmouse=true;skipmousedelay&&clearTimeout(skipmousedelay);skipmousedelay=setTimeout(skipmousefalse,500)};self.event('focus','input',function(){skiphide=true;skiphidedelay&&clearTimeout(skiphidedelay);skiphidedelay=setTimeout(function(){skiphide=false},800);if(self.opt.search===false)$(this).blur()});self.event('click',cls2+'-button',function(e){skipclear=false;input.val('');self.search();e.stopPropagation();e.preventDefault()});self.event('click',cls2+'-add',function(){if(self.opt.custom&&self.opt.callback){self.opt.scope&&M.scope(self.opt.scope);self.opt.callback(input.val(),self.opt.element,true);self.hide()}});self.event('click','li',function(e){var el=$(this);if(el.hclass('ui-disabled'))return;if(self.opt.callback){self.opt.scope&&M.scope(self.opt.scope);var index=+el.attrd('index');if(index===-2){self.opt.scope&&M.scope(self.opt.scope);self.opt.callback(input.val(),self.opt.element,true);self.hide();return}var item=self.opt.items[index];if(self.opt.checkbox){item.selected=!item.selected;if(item.selected)item.selectedts=Date.now();else delete item.selectedts;el.tclass('selected',item.selected);if(self.opt.checked){var tmpindex=self.opt.checked.indexOf(item.id);if(item.selected){if(tmpindex===-1)self.opt.checked.push(item.id)}else if(tmpindex!==-1)self.opt.checked.splice(tmpindex,1)}var response=null;if(self.opt.checked){response=self.opt.checked.slice(0)}else{response=[];for(var i=0;i<self.opt.items.length;i++){var m=self.opt.items[i];if(m.selected)response.push(m)}}response.quicksort('selectedts');self.opt.callback(response,self.opt.element,false,e)}else self.opt.callback(item,self.opt.element,false,e)}is=true;if(!self.opt.checkbox){self.hide(0);e.preventDefault();e.stopPropagation()}});self.event('keydown','input',function(e){var o=false;switch(e.which){case 8:skipclear=false;break;case 27:o=true;self.hide();break;case 13:o=true;var sel=self.find('li.current');if(!sel.hclass('ui-disabled'))sel.trigger('click');break;case 38:o=true;selectedindex--;if(selectedindex<0)selectedindex=0;self.move();break;case 40:o=true;selectedindex++;if(selectedindex>=resultscount)selectedindex=resultscount;self.move();break}if(o){skipmouseforce();e.preventDefault();e.stopPropagation()}});self.event('input','input',function(){issearch=true;setTimeout2(self.ID,self.search,100,null,this.value)});var fn=function(){is&&!skiphide&&self.hide(1)};self.on('reflow + scroll + resize + resize2',fn);$(W).on('scroll',fn)};self.move=function(){var counter=0,scroller=container.parent();var li=container.find('li');var hli=0,was=false,last=-1,lastselected=0,plus=0;for(var i=0;i<li.length;i++){var el=$(li[i]);if(el.hclass('hidden')){el.rclass('current');continue}var is=selectedindex===counter;el.tclass('current',is);if(is){hli=(el.innerHeight()||30)+1;plus=(hli*2);was=true;var t=(hli*(counter||1));scroller[0].scrollTop=t-plus}counter++;last=i;lastselected++}if(!was&&last>=0){selectedindex=lastselected;li.eq(last).aclass('current')}};var nosearch=function(){issearch=false};self.nosearch=function(){setTimeout2(self.ID+'nosearch',nosearch,500)};self.search=function(value){if(!self.opt)return;icon.tclass('ti-times',!!value).tclass('ti-search',!value);if(self.opt.custom){plus.tclass('hidden',!value);customvalue.innerHTML=(typeof(self.opt.custom)==='string'?self.opt.custom:config.create)+': <b>'+(value?Thelpers.encode(value.toString()):'...')+'</b>'}if(!value&&!self.opt.ajax){if(!skipclear)container.find('li').rclass('hidden');if(!skipreset)selectedindex=0;resultscount=self.opt.items?self.opt.items.length:0;customvalue.classList.toggle('hidden',!value);self.move();self.nosearch();return}resultscount=0;selectedindex=0;if(self.opt.ajax){var val=value||'';if(self.ajaxold!==val){self.ajaxold=val;setTimeout2(self.ID,function(val){self.opt&&self.opt.ajax(val,function(items){var builder=[],indexer={},item,key=(self.opt.search==true?self.opt.key:(self.opt.search||self.opt.key))||'name';for(var i=0;i<items.length;i++){item=items[i];if(self.opt.exclude&&self.opt.exclude(item))continue;if(self.opt.checked)item.selected=self.opt.checked.indexOf(item.id)!==-1;indexer.index=i;indexer.search=item[key]?item[key].replace(regstrip,''):'';indexer.checkbox=self.opt.checkbox===true;resultscount++;builder.push(self.opt.ta(item,indexer))}if(self.opt.empty){item={};var tmp=self.opt.raw?'<b>{0}</b>'.format(self.opt.empty):self.opt.empty;item[self.opt.key||'name']=tmp;if(!self.opt.raw)item.template='<b>{0}</b>'.format(self.opt.empty);indexer.index=-1;builder.unshift(self.opt.ta(item,indexer))}if(customvalue.parentNode)customvalue.parentNode.removeChild(customvalue);skipclear=true;self.opt.items=items;container.html(builder);if(self.opt.custom){container.prepend(customvalue);customvalue.classList.toggle('hidden',!value)}self.move();self.nosearch()})},300,null,val)}}else if(value){value=value.toSearch().split(' ');var arr=container.find('li');for(var i=0;i<arr.length;i++){var el=$(arr[i]);var val=el.attrd('search')||'';if(!val)continue;val=val.toSearch();var is=false;for(var j=0;j<value.length;j++){if(val.indexOf(value[j])===-1){is=true;break}}el.tclass('hidden',is);if(!is)resultscount++}customvalue.classList.toggle('hidden',!value);skipclear=true;self.move();self.nosearch()}};self.show=function(opt){if(opt.checked==true)opt.checked=[];var el=opt.element instanceof jQuery?opt.element[0]:opt.element;if(opt.items==null)opt.items=[];self.tclass(cls+'-default',!opt.render);if(opt.classname){main.aclass(opt.classname);parentclass=opt.classname}if(opt.class){main.aclass(opt.class);parentclass2=opt.class}if(!opt.minwidth)opt.minwidth=config.minwidth;if(is){clearTimeout(timeout);if(self.target===el){self.hide(1);return}}if(opt.template)opt.templatecompiled=Tangular.compile(opt.template);self.initializing=true;self.target=el;opt.ajax=null;self.ajaxold=null;var element=opt.element?$(opt.element):null;var callback=opt.callback,items=opt.items,type=typeof(items);var item;if(type==='string'){items=opt.items=GET(items);type=typeof(items)}if(type==='function'&&callback){type='';opt.ajax=items;items=null}if(!items&&!opt.ajax){self.hide(0);return}self.tclass(cls+'-search-hidden',opt.search===false);self.opt=opt;opt.class&&main.aclass(opt.class);skiphide=true;input.val('');var builder=[],selected=null;opt.ta=opt.key?Tangular.compile((opt.raw?templateraw:template).replace(/\{\{\sname/g,'{{ '+opt.key)):opt.raw?self.templateraw:self.template;if(!opt.ajax){var indexer={},key=(opt.search==true?opt.key:(opt.search||opt.key))||'name';for(var i=0;i<items.length;i++){item=items[i];if(typeof(item)==='string')item={name:item,id:item,selected:item===opt.selected};if(opt.exclude&&opt.exclude(item))continue;if(item.selected||opt.selected===item){selected=i;skipreset=true;item.selected=true}else item.selected=false;if(opt.checked&&item.selected)opt.checked.push(item.id);var c='';if(item.selected)c+=(c?' ':'selected current');if(item.classname)c+=(c?' ':item.classname);if(item.disabled)c+=(c?' ':'ui-disabled');indexer.classes=c;indexer.checkbox=opt.checkbox===true;indexer.index=i;indexer.search=item[key]?item[key].replace(regstrip,''):'';builder.push(opt.ta(item,indexer))}if(opt.empty){item={};var tmp=opt.raw?'<b>{0}</b>'.format(opt.empty):opt.empty;item[opt.key||'name']=tmp;if(!opt.raw)item.template='<b>{0}</b>'.format(opt.empty);indexer.index=-1;builder.unshift(opt.ta(item,indexer))}}self.target=element?element[0]:null;var w=element?element.width():config.minwidth;var offset=element?element.offset():EMPTYOBJECT;var width=w+(opt.offsetWidth||0);if(opt.minwidth&&width<opt.minwidth)width=opt.minwidth;else if(opt.maxwidth&&width>opt.maxwidth)width=opt.maxwidth;ready=false;opt.ajaxold=null;plus.aclass('hidden');self.find('input').prop('placeholder',opt.placeholder||config.placeholder);var scroller=self.find(cls2+'-container').css('width',width+30);if(customvalue.parentNode)customvalue.parentNode.removeChild(customvalue);container.html(builder);if(opt.custom)container.prepend(customvalue);var options={left:0,top:0,width:width},height=opt.height||scroller.height();scroller.css('height',opt.height||'');if(opt.element){switch(opt.align){case'center':options.left=Math.ceil((offset.left-width/2)+(opt.element.innerWidth()/2));break;case'right':options.left=(offset.left-width)+opt.element.innerWidth();break;default:options.left=offset.left;break}options.top=opt.position==='bottom'?((offset.top-height)+element.height()):offset.top}else{options.top=opt.y;options.left=opt.x}options.scope=M.scope?M.scope():'';if(opt.offsetX)options.left+=opt.offsetX;if(opt.offsetY)options.top+=opt.offsetY;var mw=width,mh=scroller.height();if(options.left<0)options.left=10;else if((mw+options.left)>WW)options.left=(WW-mw)-10;mh+=search.height();if($(W).scrollTop()===0){if((mh+options.top)>WH)options.top=(WH-mh)-10}if(options.top<10)options.top=10;main.css(options);!isMOBILE&&setTimeout(function(){if(opt.search!==false)input.focus()},200);setTimeout(function(){self.initializing=false;skiphide=false;is=true;if(selected){var h=container.find('li:first-child').innerHeight()+1;var y=(container.find('li.selected').index()*h)-(h*2);scroller[0].scrollTop=y<0?0:y}else scroller[0].scrollTop=0;ready=true;self.rclass('invisible')},100);if(is){self.search();return}selectedindex=selected||0;resultscount=items?items.length:0;skipclear=true;self.search();self.aclass('invisible');self.rclass('hidden');setTimeout(function(){if(self.opt&&((self.opt.x!=null&&self.opt.y!=null)||(self.target&&self.target.offsetParent)))main.aclass(cls+'-visible');else self.hide(1)},100);skipreset=false};self.hide=function(sleep){if(!is||self.initializing)return;clearTimeout(timeout);timeout=setTimeout(function(){self.rclass(cls+'-visible').aclass('hidden');if(parentclass){main.rclass(parentclass);parentclass=null}if(parentclass2){main.rclass(parentclass2);parentclass2=null}if(self.opt){self.opt.close&&self.opt.close();self.opt=null}is=false},sleep?sleep:100)}});
		COMPONENT('errorhandler','keywords:401=login',function(self,config){self.readonly();self.singleton();self.nocompile();self.blind();self.make=function(){var keywords=config.keywords?config.keywords.split(','):EMPTYARRAY;for(var i=0;i<keywords.length;i++)keywords[i]=keywords[i].split('=');self.on('ERROR',function(err){if(err instanceof Error)err=[{error:err.message}];else if(!(err instanceof Array))err=[{error:err.error||err.message||err.err}];var arr=[],response={};for(var m of err){if(!m.error)continue;for(var k of keywords){if((m.name&&m.name.indexOf(k[0])!==-1)||m.error.indexOf(k[0])!==-1)response[k[1]]=true}arr.push(m.error.toString().encode())}response.items=arr;if(config.exec){response.message=arr.join('<br />');self.SEEX(config.exec,response)}else{var name=self.caniuse('message')?'message':self.caniuse('notify')?'notify':self.caniuse('notifybar')?'notifybar':self.caniuse('snackbar')?'snackbar':'';if(name)SETTER(name+'/warning',response.items.join('<br />'));else if(W.console)console.error('ERROR():',response.items.join('<br />'))}SETTER('!loading/hide',100)})}});
		COMPONENT('filesaver',function(self){self.singleton();self.readonly();(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});self.save=function(filename,body,type){var plus=false;if(!type){var ext=filename.substring(filename.lastIndexOf('.')+1);if(ext==='htm')ext='html';switch(ext){case'json':type='application/json';plus=true;break;case'js':type='text/javascript';plus=true;break;case'ts':type='text/typescript';plus=true;break;case'svg':type='image/svg+xml';break;case'ics':case'ifb':type='text/calendar';plus=true;break;case'doc':type='application/msword';break;case'docx':type='application/vnd.openxmlformats-officedocument.wordprocessingml.document';break;case'xls':type='application/vnd.ms-excel';break;case'xlsx':type='application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';break;case'pdf':type='application/pdf';break;case'jpg':case'jpeg':type='image/jpeg';break;case'ico':type='image/x-icon';break;case'png':case'gif':type='image/'+ext;break;case'less':case'css':case'sass':case'scss':type='text/'+ext;plus=true;break;case'xml':case'html':case'csv':type='text/'+ext;plus=true;break;default:type='text/plain';plus=true;break}}if(plus)type+='; charset=utf-8';var blob;if(typeof(body)==='string')blob=new Blob([body],{type:type});else blob=body;saveAs(blob,filename)}});
		COMPONENT('fileuploader',function(self,config){var input;self.singleton();self.readonly();self.nocompile();self.preparefilename=function(filename){var index=filename.lastIndexOf('/');if(index===-1)index=filename.lastIndexOf('\\');if(index!==-1)filename=filename.substring(index+1);return filename};self.upload=self.browse=function(opt){self.opt=opt;self.opt.fd=new FormData();self.opt.indexer=0;if(!opt.url)opt.url=config.url;if(opt.files){self.processfiles(opt.files)}else if(opt.base64){fetch(opt.base64).then(res=>res.blob()).then(function(blob){self.opt.fd.append((self.opt.prefix||'file{0}').format(self.opt.indexer++),blob,opt.filename||opt.name);self.uploadfiles(null)})}else{input[0].value='';self.find('input').attr('accept',opt.accept||'*/*').prop('multiple',!!opt.multiple);input.click()}};self.processfiles=function(files,callback){if(self.opt.width||self.opt.height){var queue=[];for(var i=0;i<files.length;i++)queue.push(files[i]);queue.wait(function(item,next){self.processimage(item,function(filename,blob){self.opt.fd.append((self.opt.prefix||'file{0}').format(self.opt.indexer++),blob,filename);next()})},()=>self.uploadfiles(null,callback))}else self.uploadfiles(files,callback)};self.make=function(){self.aclass('hidden');self.append('<input type="file" multiple />');input=self.find('input');self.event('change','input',function(e){self.processfiles(e.target.files,()=>this.value='')})};self.uploadfiles=function(files,callback){if(files){for(var i=0;i<files.length;i++){var filename=self.preparefilename(files[i].name);self.opt.fd.append((self.opt.prefix||'file{0}').format(self.opt.indexer++),files[i],filename)}}if(self.opt.data){for(var key in self.opt.data)self.opt.fd.append(key,self.opt.data[key])}SETTER('loading/show');UPLOAD(self.opt.url,self.opt.fd,function(response,err){SETTER('loading/hide',500);if(!response&&err)self.opt.callback(null,err);else if(response instanceof Array&&response[0]&&response[0].error)self.opt.callback(null,response[0].error);else self.opt.callback(response)},function(percentage,speed,remaining){self.opt.progress&&self.opt.progress(percentage,speed,remaining);if(percentage===100&&callback){callback();callback=null}});setTimeout(function(){input[0].value=''},1500)};self.processimage=function(file,callback){var name=self.preparefilename(file.name.replace(/\.(ico|png|jpeg|jpg|gif|svg|webp|heic)$/i,self.opt.background==='transparent'?'.png':'.jpg'));self.getorientation(file,function(orient){var reader=new FileReader();reader.onload=function(){var img=new Image();img.onload=function(){if(self.opt.keeporiginal&&((img.width==self.opt.width&&img.height==self.opt.height)||(self.opt.width&&self.opt.onlylarger&&img.width<=self.opt.width)))fetch(reader.result).then(res=>res.blob()).then(blob=>callback(name,blob));else self.resizeimage(img,name,callback)};img.crossOrigin='anonymous';if(orient<2)img.src=reader.result;else self.resetorientation(reader.result,orient,url=>img.src=url)};reader.readAsDataURL(file)})};var resizewidth=function(w,h,size){return Math.ceil(w*(size/h))};var resizeheight=function(w,h,size){return Math.ceil(h*(size/w))};self.resizeimage=function(image,name,callback){var opt=self.opt,canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');var w=0,h=0,x=0,y=0,is=false,diff=0;if(!opt.width)opt.width=(image.width*(opt.height/image.height))>>0;if(!opt.height)opt.height=image.height*(opt.width/image.width);canvas.width=opt.width;canvas.height=opt.height;if(opt.background!=='transparent'){ctx.fillStyle=opt.background||'#FFFFFF';ctx.fillRect(0,0,opt.width,opt.height)}if(image.width>opt.width||image.height>opt.height){if(image.width>image.height){w=resizewidth(image.width,image.height,opt.height);h=opt.height;if(w<opt.width){w=opt.width;h=resizeheight(image.width,image.height,opt.width)}if(w>opt.width){diff=w-opt.width;x-=(diff/2)>>0}is=true}else if(image.height>image.width){w=opt.width;h=resizeheight(image.width,image.height,opt.width);if(h<opt.height){h=opt.height;w=resizewidth(image.width,image.height,opt.height)}if(h>opt.height){diff=h-opt.height;y-=(diff/2)>>0}is=true}}if(!is){if(image.width<opt.width&&image.height<opt.height){w=image.width;h=image.height;x=(opt.width/2)-(image.width/2);y=(opt.height/2)-(image.height/2)}else if(image.width>=image.height){w=opt.width;h=image.height*(opt.width/image.width);y=(opt.height/2)-(h/2)}else{h=opt.height;w=(image.width*(opt.height/image.height))>>0;x=(opt.width/2)-(w/2)}}ctx.drawImage(image,x,y,w,h);var base64=opt.background==='transparent'?canvas.toDataURL('image/png'):canvas.toDataURL('image/jpeg',(opt.quality||90)*0.01);if(base64.length>10)fetch(base64).then(res=>res.blob()).then(blob=>callback(name,blob))};self.getorientation=function(file,callback){var reader=new FileReader();reader.onload=function(e){var view=new DataView(e.target.result);if(view.getUint16(0,false)!=0xFFD8)return callback(-2);var length=view.byteLength,offset=2;while(offset<length){var marker=view.getUint16(offset,false);offset+=2;if(marker==0xFFE1){if(view.getUint32(offset+=2,false)!=0x45786966)return callback(-1);var little=view.getUint16(offset+=6,false)==0x4949;offset+=view.getUint32(offset+4,little);var tags=view.getUint16(offset,little);offset+=2;for(var i=0;i<tags;i++)if(view.getUint16(offset+(i*12),little)==0x0112)return callback(view.getUint16(offset+(i*12)+8,little))}else if((marker&0xFF00)!=0xFF00)break;else offset+=view.getUint16(offset,false)}return callback(-1)};reader.readAsArrayBuffer(file.slice(0,64*1024))};self.resetorientation=function(src,srcOrientation,callback){var img=new Image();img.onload=function(){var width=img.width,height=img.height,canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');canvas.width=width;canvas.height=height;switch(srcOrientation){case 2:ctx.transform(-1,0,0,1,width,0);break;case 3:ctx.transform(-1,0,0,-1,width,height);break;case 4:ctx.transform(1,0,0,-1,0,height);break;case 5:ctx.transform(0,1,1,0,0,0);break;case 6:ctx.transform(-1,0,0,1,width,0);break;case 7:ctx.transform(0,-1,-1,0,height,width);break;case 8:ctx.transform(0,-1,1,0,0,width);break}ctx.drawImage(img,0,0);if(srcOrientation===6){var canvas2=document.createElement('canvas');canvas2.width=width;canvas2.height=height;var ctx2=canvas2.getContext('2d');ctx2.scale(-1,1);ctx2.drawImage(canvas,-width,0);callback(canvas2.toDataURL())}else callback(canvas.toDataURL())};img.src=src}});
		COMPONENT('loading',function(self,config,cls){var delay,prev;self.readonly();self.singleton();self.nocompile();self.make=function(){self.aclass(cls+' '+cls+'-'+(config.style||1));self.append('<div><div class="'+cls+'-text hellip"></div></div>');if(M.events){setTimeout(function(){if(!M.events['@flag showloading']){ON('@flag showloading',()=>self.show());ON('@flag hideloading',()=>self.hide(800))}},100)}};self.show=function(text){clearTimeout(delay);if(prev!==text){prev=text;self.find('.'+cls+'-text').html(text||'')}self.rclass('hidden');document.activeElement&&document.activeElement.blur();return self};self.hide=function(timeout){clearTimeout(delay);delay=setTimeout(function(){self.aclass('hidden')},timeout||1);return self}});
		COMPONENT('menu','style:2',function(self,config,cls){self.singleton();self.readonly();self.nocompile&&self.nocompile();var cls2='.'+cls,is=false,issubmenu=false,events={},ul,children,prevsub,parentclass,container;self.make=function(){self.aclass('hidden '+cls+'-area');self.append('<div class="{0} {0}-style-{1}"><div class="{0}-items"><ul></ul></div><div class="{0}-submenu hidden"><ul></ul></div>'.format(cls,config.style));container=self.find('> '+cls2);ul=self.find(cls2+'-items').find('ul');children=self.find(cls2+'-submenu');self.element.on('click',function(e){if(e.target===self.dom)self.hide()});self.event('click','li',function(e){var el=$(this);if(!el.hclass(cls+'-divider')&&!el.hclass(cls+'-disabled')){self.opt.scope&&M.scope(self.opt.scope);var index=el.attrd('index').split('-');if(index.length>1){self.opt.callback(self.opt.items[+index[0]].children[+index[1]]);self.hide()}else if(!issubmenu){self.opt.callback(self.opt.items[+index[0]]);self.hide()}}e.preventDefault();e.stopPropagation()});self.event('contextmenu',function(e){e.preventDefault();e.stopPropagation();self.hide()});events.hide=function(){is&&self.hide()};self.event('scroll',events.hide);self.on('reflow + scroll + resize + resize2',events.hide);events.hidechildren=function(){if($(this.parentNode.parentNode).hclass(cls+'-items')){if(prevsub&&prevsub[0]!==this){prevsub.rclass(cls+'-selected');prevsub=null;children.aclass('hidden');issubmenu=false}}};events.children=function(){if(prevsub&&prevsub[0]!==this){prevsub.rclass(cls+'-selected');prevsub=null}issubmenu=true;var el=prevsub=$(this);var index=+el.attrd('index');var item=self.opt.items[index];el.aclass(cls+'-selected');var html=self.makehtml(item.children,index);children.find('ul').html(html);children.rclass('hidden');var css={},offset=el.position();css.left=ul.width()-5;css.top=offset.top-5;var offsetX=offset.left;offset=self.element.offset();var w=children.width();var left=offset.left+css.left+w;if(left>(WW+30))css.left=(offsetX-w)+5;children.css(css);var leftoffset=children.offset().left;var childrenwidth=children.width();var suboffset=childrenwidth+leftoffset;if(suboffset>WW)children.css('left',-childrenwidth)}};self.bindevents=function(){events.is=true;$(document).on('touchstart mouseenter mousedown',cls2+'-children',events.children);$(W).on('scroll',events.hide);self.element.on('mouseenter','li',events.hidechildren)};self.unbindevents=function(){events.is=false;$(document).off('touchstart mouseenter mousedown',cls2+'-children',events.children);$(W).off('scroll',events.hide);self.element.off('mouseenter','li',events.hidechildren)};self.showxy=function(x,y,items,callback){var opt={};opt.x=x;opt.y=y;opt.items=items;opt.callback=callback;self.show(opt)};self.makehtml=function(items,index){var builder=[],tmp;for(var i=0;i<items.length;i++){var item=items[i];if(typeof(item)==='string'){if(item==='-')tmp='<hr />';else tmp='<span>{0}</span>'.format(item);builder.push('<li class="{0}-divider">{1}</li>'.format(cls,tmp));continue}var cn=item.classname||item.class||'',icon='',color=item.color?'style="color:{color}"'.arg(item):'';if(item.icon)icon='<i class="{0}" {1}></i>'.format(item.icon.charAt(0)==='!'?item.icon.substring(1):item.icon.indexOf(' ')===-1?('ti ti-'+item.icon):item.icon,color);else cn=(cn?(cn+' '):'')+cls+'-nofa';tmp='';if(index==null&&item.children&&item.children.length){cn+=(cn?' ':'')+cls+'-children';tmp+='<i class="ti ti-angle-right pull-right"></i>'}if(item.selected)cn+=(cn?' ':'')+cls+'-selected';if(item.disabled)cn+=(cn?' ':'')+cls+'-disabled';tmp+='<div class="{0}-name">{1}{2}{3}</div>'.format(cls,icon,item.name,item.shortcut?'<b>{0}</b>'.format(item.shortcut):'');if(item.note)tmp+='<div class="ui-menu-note">{0}</div>'.format(item.note);builder.push('<li class="{0}" data-index="{2}">{1}</li>'.format(cn,tmp,(index!=null?(index+'-'):'')+i))}return builder.join('')};self.show=function(opt){if(typeof(opt)==='string'){opt={align:opt};opt.element=arguments[1];opt.items=arguments[2];opt.callback=arguments[3];opt.offsetX=arguments[4];opt.offsetY=arguments[5]}var tmp=opt.element?opt.element instanceof jQuery?opt.element[0]:opt.element.element?opt.element.dom:opt.element:null;if(is&&tmp&&self.target===tmp){self.hide();return}var target=opt.element?$(opt.element):null;if(target&&HIDDEN(target))return;self.target=tmp;self.opt=opt;opt.scope=M.scope();var c=opt.classname||opt.class;if(parentclass&&c!==parentclass){self.rclass(parentclass);parentclass=null}self.tclass('ui-large',opt.large==true);if(!opt.nomobile)self.find('{0}'.format(cls2)).aclass('{0}-mobile'.format(cls));issubmenu=false;prevsub=null;var css={};children.aclass('hidden');children.find('ul').empty();ul.html(self.makehtml(opt.items));if(!parentclass&&c){self.aclass(c);parentclass=c}if(is){css.left=0;css.top=0;container.css(css)}else{self.rclass('hidden');self.aclass(cls+'-visible',100);is=true;if(!events.is)self.bindevents()}var plusW=opt.offsetWidth||0;if(opt.fixedwidth){var tmpw=target.width()+plusW;container.css({'max-width':tmpw,width:tmpw});plusW=0}else container.css({'max-width':'',width:''});var w=container.width();if(opt.element){var offset=target.offset();switch(opt.align){case'center':css.left=Math.ceil((offset.left-w/2)+(target.innerWidth()/2));break;case'right':css.left=(offset.left-w)+target.innerWidth();break;default:css.left=offset.left;break}css.top=opt.position==='bottom'?(offset.top-container.height()-10):(offset.top+target.innerHeight()+10)}else{css.left=opt.x;css.top=opt.y}if(opt.position==='bottom')css.top+=10;else css.top-=10;if(opt.offsetX)css.left+=opt.offsetX;if(opt.offsetY)css.top+=opt.offsetY;var mw=w,mh=container.height();if(css.left<0)css.left=10;else if((mw+css.left)>WW)css.left=(WW-mw)-10;if(css.top<0)css.top=10;else if((mh+css.top)>WH)css.top=(WH-mh)-10;container.css(css)};self.hide=function(){events.is&&self.unbindevents();is=false;self.opt&&self.opt.hide&&self.opt.hide();self.target=null;self.opt=null;self.aclass('hidden');self.rclass(cls+'-visible')}});
		COMPONENT('message','button:OK;style:2',function(self,config,cls){var cls2='.'+cls,is,events={};self.readonly();self.singleton();self.nocompile&&self.nocompile();self.make=function(){var pls=(config.style===2?(' '+cls+'2'):'');self.aclass(cls+' hidden'+pls);if(config.closeoutside)self.event('click',function(e){var node=e.target,skip={SPAN:1,A:1,I:1};if(!skip[node.tagName])self.hide()});else self.event('click','button',self.hide)};events.keyup=function(e){if(e.which===27)self.hide()};events.bind=function(){if(!events.is){$(W).on('keyup',events.keyup);events.is=false}};events.unbind=function(){if(events.is){events.is=false;$(W).off('keyup',events.keyup)}};self.warning=function(message,icon,fn){if(typeof(icon)==='function'){fn=icon;icon=null}if(icon&&typeof(icon)!=='string')icon=null;if(message instanceof Array){var builder=[];for(var i=0;i<message.length;i++){var err=message[i].error;err&&builder.push(err)}message=builder.join('<br />')}self.callback=fn;self.content(cls+'-warning',message,icon||'warning')};self.info=function(message,icon,fn){if(typeof(icon)==='function'){fn=icon;icon=null}if(icon&&typeof(icon)!=='string')icon=null;if(message instanceof Array){var builder=[];for(var i=0;i<message.length;i++){var err=message[i].error;err&&builder.push(err)}message=builder.join('<br />')}self.callback=fn;self.content(cls+'-info',message,icon||'info-circle')};self.success=function(message,icon,fn){if(typeof(icon)==='function'){fn=icon;icon=null}if(icon&&typeof(icon)!=='string')icon=null;self.callback=fn;self.content(cls+'-success',message,icon||'check-circle')};self.response=function(message,callback,response){var fn;if(typeof(message)==='function'){response=callback;fn=message;message=null}else if(typeof(callback)==='function')fn=callback;else{response=callback;fn=null}if(response instanceof Array){var builder=[];for(var i=0;i<response.length;i++){var err=response[i].error;err&&builder.push(err)}self.warning(builder.join('<br />'));SETTER('!loading/hide')}else if(typeof(response)==='string'){self.warning(response);SETTER('!loading/hide')}else{if(message){if(message.length<40&&message.charAt(0)==='?')SET(message,response);else self.success(message)}if(typeof(fn)==='string')SET(fn,response);else if(fn)fn(response)}};self.hide=function(){events.unbind();self.callback&&self.callback();self.aclass('hidden')};self.content=function(classname,text,icon){if(icon.indexOf(' ')===-1)icon='ti ti-'+icon;!is&&self.html('<div><div class="{0}-icon"><i class="{1}"></i></div><div class="{0}-body"><div class="{0}-text"></div><hr /><button>{2}</button></div></div>'.format(cls,icon,config.button));self.rclass2(cls+'-').aclass(classname);self.find(cls2+'-body').rclass().aclass(cls+'-body');is&&self.find(cls2+'-icon').find('.ti').rclass2('ti').aclass(icon);self.find(cls2+'-text').html(text);self.rclass('hidden');self.element.focus();is=true;events.bind();document.activeElement&&document.activeElement.blur();setTimeout(function(){self.aclass(cls+'-visible');setTimeout(function(){self.find(cls2+'-icon').aclass(cls+'-icon-animate');document.activeElement&&document.activeElement.blur()},300)},100)}});
		COMPONENT('prompt','zindex:12;width:400;cancel:Cancel;submit:OK',function(self,config,cls){var cls2='.'+cls,body,input,op={};self.readonly();self.singleton();op.cancel=function(){var val=input.val();self.opt.cancel&&self.opt.cancel(val);self.hide()};op.submit=function(){var val=input.val();if(val===self.opt.value){op.cancel();return}self.opt.callback(val);self.hide()};self.make=function(){$(document.body).append('<div id="{1}" class="{0} {0}-container hidden"><div class="{0}-area"><div class="{0}-body"><div class="{0}-title"></div><div class="{0}-summary"></div><div class="{0}-input"><input type="text" /></div><div class="{0}-buttons"><button name="cancel">{cancel}</button><button name="submit">{submit}</button></div></div>'.format(cls,self.ID).args(config));self.replace('#'+self.ID);body=self.find(cls2+'-body');input=self.find('input');self.event('click',function(e){var tag=e.target.tagName;if(tag!=='INPUT'&&tag!=='BUTTON')self.autofocus('input')});self.event('click','.cancel',self.hide);self.event('click','button[name]',function(){var t=this;if(!t.disabled)op[t.name]()});self.event('keydown','input',function(e){switch(e.which){case 13:op.submit();break;case 27:op.cancel();break}})};self.hide=function(){if(!self.opt)return;self.opt.hide&&self.opt.hide();self.opt=null;self.aclass('hidden',100)};self.show=function(opt){self.opt=opt;$('html').aclass(cls+'-noscroll');var title=opt.name||opt.title||'';input.attr('type',opt.type||'text');input.val(opt.value||'');self.find(cls2+'-title').tclass('hidden',!title).html(title);self.find(cls2+'-summary').tclass('hidden',!opt.summary).html(opt.summary||'');self.css('z-index',opt.zindex||config.zindex);body.css({'max-width':opt.width||config.width});self.tclass(cls+'-centered',opt.centered===true);self.rclass('hidden');self.autofocus('input')}});
	</script>

	<ui-component name="LAZY datepicker" config="today:Set today;clear:Clear;days:SU,MO,TU,WE,TH,FR,SO;months:January,February,March,April,May,June,July,August,September,October,November,December"></ui-component>
	<ui-component name="LAZY icons" config="search:Search"></ui-component>
	<ui-component name="LAZY clipboard"></ui-component>
	<ui-component name="LAZY colorpicker"></ui-component>
	<ui-component name="LAZY directory" config="create:Create"></ui-component>
	<ui-component name="LAZY prompt" config="submit:OK;cancel:Cancel"></ui-component>
	<ui-component name="LAZY message" config="button:OK;style:2"></ui-component>
	<ui-component name="LAZY fileuploader"></ui-component>
	<ui-component name="LAZY filesaver"></ui-component>
	<ui-component name="LAZY menu"></ui-component>
	<ui-component name="LAZY approve" config="cancel:Cancel"></ui-component>

	<ui-component name="loading" config="style:2" class="hidden"></ui-component>
	<ui-component name="locale"></ui-component>
	<ui-component name="errorhandler"></ui-component>

	<main>
		<script type="application/json">UIBUILDERDATA</script>
	</main>

	<script>

		(function() {

			var el = $('main');
			var response = PARSE(el.find('script').html());
			if (response && response.id) {

				var opid = NAV.query.openplatformid;
				var ssid = NAV.query.ssid;

				response.urlify = function(url) {
					return (ssid || opid) ? QUERIFY(url, { openplatformid: opid, ssid: ssid }) : url;
				};

				UIBuilder.view = function(id, query, callback) {
					AJAX('GET ' + response.querify(id, query), callback);
				};

				document.title = response.name;

				if (response.type !== 'flowboard') {
					var com = document.createElement('ui-component');
					com.setAttribute('name', 'viewbox');
					com.setAttribute('config', 'parent:window;scrollbarshadow:1;visibleX:1;visibleY:1');
					com.appendChild(el[0]);
					document.body.appendChild(com);
				}

				UIBuilder.build(el, response, response => W.app = response);
			}

		})();

	</script>

</body>
</html>